(self.webpackChunk_42board_front=self.webpackChunk_42board_front||[]).push([[379],{2033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(7294),n=r(5366);const i=r(9911).F4`
	from {
		transform: rotate(0);
	}
	to {
		transform: rotate(359deg);
	}
`,a=(0,n.Z)("div",{target:"ekojj7n2",label:"LoadingCircleContainer"})({name:"8lbyj9",styles:"width:300px;height:300px;display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),l=(0,n.Z)("div",{target:"ekojj7n1",label:"LoadingCircleBox"})("width:150px;height:150px;padding:3px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:rgb(63, 249, 200);background:linear-gradient(0deg, rgba(63, 249, 200, 0.1) 33%, rgba(63, 249, 220, 1) 100%);animation:",i," 0.8s linear 0s infinite;"),c=(0,n.Z)("div",{target:"ekojj7n0",label:"LoadingCircleCore"})({name:"1sudnkc",styles:"width:100%;height:100%;background:#001c29;border-radius:50%"}),s=()=>o.createElement(a,null,o.createElement(l,null,o.createElement(c,null)))},9379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(7294),n=r(8100),i=r(129),a=r.n(i),l=r(3564),c=r(5366);const s=r(9911).F4`
	from {
		transform: translate(-50%, -30%);
		opacity: 0;
	}
	to {
		transform: translate(-50%, -50%);
		opacity: 1;
	}
`,u=(0,c.Z)("div",{target:"eoptdla1",label:"LoginContainer"})("background:rgba(0, 0, 0, 0.3);padding:1rem;width:fit-content;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);animation:",s," 0.5s ease-in-out 1;color:#fff;&>img{height:4rem;margin-left:-1.8rem;margin-bottom:1rem;}&>h1{text-align:center;margin-bottom:1rem;}&>p{color:#ff7777;font-size:10px;margin-top:0.5rem;text-align:center;}"),f=(0,c.Z)("a",{target:"eoptdla0",label:"LoginButton"})({name:"lvc5fg",styles:"position:relative;display:flex;margin:0 auto;width:fit-content;img{height:40px;}"});var p=r(3653),d=r.n(p),m=r(5977),y=r(2033);const h=()=>{const{data:e,revalidate:t}=(0,n.ZP)("/api/auth",l.Z),[r,i]=o.useState(""),c=a().parse(location.search,{ignoreQueryPrefix:!0});return location.search&&!1===e&&!r&&!e&&c.code?(d().post("/api/auth",{codeValue:c.code,trashValue:"123"},{withCredentials:!0}).then((e=>(t(),e.data))).catch((e=>{i(e.response.data.reason)})),o.createElement(y.Z,null)):e?c.prev?o.createElement(m.l_,{to:""+c.prev}):o.createElement(m.l_,{to:"/main"}):o.createElement(u,null,o.createElement("img",{src:"/public/boardrag.svg"}),o.createElement(f,{href:"https://accounts.google.com/o/oauth2/auth?client_id=480747610420-0q3f8siln71vrnvd9m7o251nu50f39r6.apps.googleusercontent.com&redirect_uri=https://42board.com/auth&response_type=code&scope=https://www.googleapis.com/auth/userinfo.email&approval_prompt=force&access_type=offline",className:"google"},o.createElement("img",{src:"/public/btn_google_signin_light_normal_web@2x.png"})),r&&o.createElement("p",null,r))}},3564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(3653),n=r.n(o);const i=e=>n().get(e,{withCredentials:!0}).then((e=>e.data))},5798:(e,t,r)=>{"use strict";var o=String.prototype.replace,n=/%20/g,i=r(2769),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}}},a)},129:(e,t,r)=>{"use strict";var o=r(8261),n=r(5235),i=r(5798);e.exports={formats:i,parse:n,stringify:o}},5235:(e,t,r)=>{"use strict";var o=r(2769),n=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=l?i.slice(0,l.index):i,u=[];if(s){if(!r.plainObjects&&n.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var f=0;r.depth>0&&null!==(l=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),function(e,t,r,o){for(var n=o?t:c(t,r),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&l!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=n:a[s]=n:a={0:n}}n=a}return n}(u,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,f),d=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?m="utf-8":"utf8=%26%2310003%3B"===p[r]&&(m="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var y,h,g=p[r],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(y=t.decoder(g,a.decoder,m,"key"),h=t.strictNullHandling?null:""):(y=t.decoder(g.slice(0,v),a.decoder,m,"key"),h=o.maybeMap(c(g.slice(v+1),t),(function(e){return t.decoder(e,a.decoder,m,"value")}))),h&&t.interpretNumericEntities&&"iso-8859-1"===m&&(h=l(h)),g.indexOf("[]=")>-1&&(h=i(h)?[h]:h),n.call(s,y)?s[y]=o.combine(s[y],h):s[y]=h}return s}(e,r):e,f=r.plainObjects?Object.create(null):{},p=Object.keys(u),d=0;d<p.length;++d){var m=p[d],y=s(m,u[m],r,"string"==typeof e);f=o.merge(f,y,r)}return o.compact(f)}},8261:(e,t,r)=>{"use strict";var o=r(2769),n=r(5798),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,l(t)?t:[t])},u=Date.prototype.toISOString,f=n.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,n,i,a,c,u,f,d,m,y,h,g){var b,v=t;if("function"==typeof u?v=u(r,v):v instanceof Date?v=m(v):"comma"===n&&l(v)&&(v=o.maybeMap(v,(function(e){return e instanceof Date?m(e):e})).join(",")),null===v){if(i)return c&&!h?c(r,p.encoder,g,"key"):r;v=""}if("string"==typeof(b=v)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||o.isBuffer(v))return c?[y(h?r:c(r,p.encoder,g,"key"))+"="+y(c(v,p.encoder,g,"value"))]:[y(r)+"="+y(String(v))];var j,w=[];if(void 0===v)return w;if(l(u))j=u;else{var O=Object.keys(v);j=f?O.sort(f):O}for(var x=0;x<j.length;++x){var k=j[x],E=v[k];if(!a||null!==E){var N=l(v)?"function"==typeof n?n(r,k):r:r+(d?"."+k:"["+k+"]");s(w,e(E,N,n,i,a,c,u,f,d,m,y,h,g))}}return w};e.exports=function(e,t){var r,o=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!i.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],a=p.filter;return("function"==typeof e.filter||l(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(r=c.filter);var u,f=[];if("object"!=typeof o||null===o)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=a[u];r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var y=0;y<r.length;++y){var h=r[y];c.skipNulls&&null===o[h]||s(f,d(o[h],h,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},2769:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:n,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],o=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var s=l[c],u=a[s];"object"==typeof u&&null!==u&&-1===o.indexOf(u)&&(t.push({obj:a,prop:s}),o.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),o=t.obj[t.prop];if(r(o)){for(var n=[],i=0;i<o.length;++i)void 0!==o[i]&&n.push(o[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<n.length;++a){var l=n.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?i+=n.charAt(a):l<128?i+=o[l]:l<2048?i+=o[192|l>>6]+o[128|63&l]:l<55296||l>=57344?i+=o[224|l>>12]+o[128|l>>6&63]+o[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&n.charCodeAt(a)),i+=o[240|l>>18]+o[128|l>>12&63]+o[128|l>>6&63]+o[128|63&l])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var o=[],n=0;n<e.length;n+=1)o.push(t(e[n]));return o}return t(e)},merge:function e(o,i,a){if(!i)return o;if("object"!=typeof i){if(r(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(a&&(a.plainObjects||a.allowPrototypes)||!t.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var l=o;return r(o)&&!r(i)&&(l=n(o,a)),r(o)&&r(i)?(i.forEach((function(r,n){if(t.call(o,n)){var i=o[n];i&&"object"==typeof i&&r&&"object"==typeof r?o[n]=e(i,r,a):o.push(r)}else o[n]=r})),o):Object.keys(i).reduce((function(r,o){var n=i[o];return t.call(r,o)?r[o]=e(r[o],n,a):r[o]=n,r}),l)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL3N0eWxlLnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vcGFnZXMvQXV0aC9zdHlsZXMudHN4Iiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9wYWdlcy9BdXRoL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29uZmlnL2NvbmZpZy50c3giLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL3V0aWxzL2ZldGNoZXIudHMiLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL25vZGVfbW9kdWxlcy9xcy9saWIvZm9ybWF0cy5qcyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi9wYXJzZS5qcyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanMiXSwibmFtZXMiOlsic3BpbiIsImtleWZyYW1lcyIsIkxvYWRpbmdDaXJjbGVDb250YWluZXIiLCJMb2FkaW5nQ2lyY2xlQm94IiwiTG9hZGluZ0NpcmNsZUNvcmUiLCJhcHBlYXJVcCIsIkxvZ2luQ29udGFpbmVyIiwiTG9naW5CdXR0b24iLCJkYXRhIiwidXNlckRhdGEiLCJyZXZhbGlkYXRlIiwidXNlU1dSIiwiZmV0Y2hlciIsImVycm9yIiwic2V0RXJyb3IiLCJSZWFjdCIsInF1ZXJ5IiwicXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImlnbm9yZVF1ZXJ5UHJlZml4IiwiY29kZSIsImF4aW9zIiwiY29kZVZhbHVlIiwidHJhc2hWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInRoZW4iLCJyZXMiLCJjYXRjaCIsImUiLCJyZXNwb25zZSIsInJlYXNvbiIsIkxvYWRpbmdDaXJjbGUiLCJwcmV2IiwidG8iLCJzcmMiLCJocmVmIiwiY2xhc3NOYW1lIiwidXJsIiwicmVwbGFjZSIsIlN0cmluZyIsInByb3RvdHlwZSIsInBlcmNlbnRUd2VudGllcyIsInV0aWwiLCJGb3JtYXQiLCJSRkMxNzM4IiwiUkZDMzk4NiIsIm1vZHVsZSIsImV4cG9ydHMiLCJhc3NpZ24iLCJmb3JtYXR0ZXJzIiwidmFsdWUiLCJjYWxsIiwic3RyaW5naWZ5IiwicGFyc2UiLCJmb3JtYXRzIiwidXRpbHMiLCJoYXMiLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImlzQXJyYXkiLCJBcnJheSIsImRlZmF1bHRzIiwiYWxsb3dEb3RzIiwiYWxsb3dQcm90b3R5cGVzIiwiYXJyYXlMaW1pdCIsImNoYXJzZXQiLCJjaGFyc2V0U2VudGluZWwiLCJjb21tYSIsImRlY29kZXIiLCJkZWNvZGUiLCJkZWxpbWl0ZXIiLCJkZXB0aCIsImludGVycHJldE51bWVyaWNFbnRpdGllcyIsInBhcmFtZXRlckxpbWl0IiwicGFyc2VBcnJheXMiLCJwbGFpbk9iamVjdHMiLCJzdHJpY3ROdWxsSGFuZGxpbmciLCJzdHIiLCIkMCIsIm51bWJlclN0ciIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwicGFyc2VBcnJheVZhbHVlIiwidmFsIiwib3B0aW9ucyIsImluZGV4T2YiLCJzcGxpdCIsInBhcnNlS2V5cyIsImdpdmVuS2V5IiwidmFsdWVzUGFyc2VkIiwia2V5IiwiY2hpbGQiLCJzZWdtZW50IiwiZXhlYyIsInBhcmVudCIsInNsaWNlIiwiaW5kZXgiLCJrZXlzIiwicHVzaCIsImkiLCJjaGFpbiIsImxlYWYiLCJsZW5ndGgiLCJvYmoiLCJyb290IiwiY29uY2F0IiwiY3JlYXRlIiwiY2xlYW5Sb290IiwiY2hhckF0IiwiaXNOYU4iLCIwIiwicGFyc2VPYmplY3QiLCJvcHRzIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwiaXNSZWdFeHAiLCJub3JtYWxpemVQYXJzZU9wdGlvbnMiLCJ0ZW1wT2JqIiwiY2xlYW5TdHIiLCJsaW1pdCIsIkluZmluaXR5IiwicGFydHMiLCJza2lwSW5kZXgiLCJwYXJ0IiwiYnJhY2tldEVxdWFsc1BvcyIsInBvcyIsIm1heWJlTWFwIiwiZW5jb2RlZFZhbCIsImNvbWJpbmUiLCJwYXJzZVZhbHVlcyIsIm5ld09iaiIsIm1lcmdlIiwiY29tcGFjdCIsImFycmF5UHJlZml4R2VuZXJhdG9ycyIsImJyYWNrZXRzIiwicHJlZml4IiwiaW5kaWNlcyIsInJlcGVhdCIsInB1c2hUb0FycmF5IiwiYXJyIiwidmFsdWVPckFycmF5IiwiYXBwbHkiLCJ0b0lTTyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImRlZmF1bHRGb3JtYXQiLCJhZGRRdWVyeVByZWZpeCIsImVuY29kZSIsImVuY29kZXIiLCJlbmNvZGVWYWx1ZXNPbmx5IiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJza2lwTnVsbHMiLCJvYmplY3QiLCJnZW5lcmF0ZUFycmF5UHJlZml4IiwiZmlsdGVyIiwic29ydCIsInYiLCJqb2luIiwiaXNCdWZmZXIiLCJvYmpLZXlzIiwidmFsdWVzIiwia2V5UHJlZml4Iiwibm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiaGV4VGFibGUiLCJhcnJheSIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwidGFyZ2V0IiwicmVkdWNlIiwiYWNjIiwiYSIsImIiLCJxdWV1ZSIsIm8iLCJwcm9wIiwicmVmcyIsIml0ZW0iLCJqIiwicG9wIiwiY29tcGFjdGVkIiwiY29tcGFjdFF1ZXVlIiwic3RyV2l0aG91dFBsdXMiLCJ1bmVzY2FwZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImRlZmF1bHRFbmNvZGVyIiwic3RyaW5nIiwiU3ltYm9sIiwiZXNjYXBlIiwib3V0IiwiYyIsImNoYXJDb2RlQXQiLCJjb25zdHJ1Y3RvciIsImZuIiwibWFwcGVkIiwibWVyZ2VUYXJnZXQiLCJmb3JFYWNoIiwidGFyZ2V0SXRlbSJdLCJtYXBwaW5ncyI6IndKQUdBLE1BQU1BLEUsUUFBT0MsRUFBVTs7Ozs7OztFQVNWQyxHQUF5QixjQUFILGtEQUFHLENBQUgsNktBWXRCQyxHQUFtQixjQUFILDRDQUFHLENBQUgsa1BBVWZILEVBVmUsNkJBYWhCSSxHQUFvQixjQUFILDZDQUFHLENBQUgsdUZDeEI5QixFQVYwQixJQUV4QixnQkFBQ0YsRUFBRCxLQUNDLGdCQUFDQyxFQUFELEtBQ0MsZ0JBQUNDLEVBQUQsUyx3SENKSixNQUFNQyxFLFFBQVdKLEVBQVU7Ozs7Ozs7OztFQVdkSyxHQUFpQixjQUFILDBDQUFHLENBQUgsNklBUWJELEVBUmEsOE1BOEJkRSxHQUFjLFlBQUgsdUNBQUcsQ0FBSCwyRywyQ0NsQ3hCLE1BZ0RBLEVBaERhLEtBQ1osTUFBUUMsS0FBTUMsRUFBUixXQUFrQkMsSUFBZUMsUUFBTyxZQUFhQyxNQUNwREMsRUFBT0MsR0FBWUMsV0FBZSxJQUVuQ0MsRUFBUUMsVUFBU0MsU0FBU0MsT0FBUSxDQUN2Q0MsbUJBQW1CLElBR3BCLE9BQUlGLFNBQVNDLFNBQXVCLElBQWJWLElBQXVCSSxJQUN4Q0osR0FBWU8sRUFBTUssTUFDdEJDLFNBRUcsWUFDRCxDQUNDQyxVQUFXUCxFQUFNSyxLQUNqQkcsV0FBWSxPQUViLENBQ0NDLGlCQUFpQixJQUdsQkMsTUFBTUMsSUFDTmpCLElBQ09pQixFQUFJbkIsUUFFWG9CLE9BQU9DLElBQ1BmLEVBQVNlLEVBQUVDLFNBQVN0QixLQUFLdUIsV0FFcEIsZ0JBQUNDLEVBQUEsRUFBRCxPQUlMdkIsRUFDQ08sRUFBTWlCLEtBQWEsZ0JBQUMsS0FBRCxDQUFVQyxHQUFLLEdBQUVsQixFQUFNaUIsT0FDbEMsZ0JBQUMsS0FBRCxDQUFVQyxHQUFHLFVBSXpCLGdCQUFDNUIs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LEVBQUl0RixHQUFPeEMsRUFFUjhILElBQ1J5QiIsImZpbGUiOiIzNzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IHNwaW4gPSBrZXlmcmFtZXNgXG5cdGZyb20ge1xuXHRcdHRyYW5zZm9ybTogcm90YXRlKDApO1xuXHR9XG5cdHRvIHtcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xuXHR9XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG5cdHdpZHRoOiAzMDBweDtcblx0aGVpZ2h0OiAzMDBweDtcblx0ZGlzcGxheTogZmxleDtcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0dG9wOiA1MCU7XG5cdGxlZnQ6IDUwJTtcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUJveCA9IHN0eWxlZC5kaXZgXG5cdHdpZHRoOiAxNTBweDtcblx0aGVpZ2h0OiAxNTBweDtcblx0cGFkZGluZzogM3B4O1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0Ym9yZGVyLXJhZGl1czogNTAlO1xuXHRiYWNrZ3JvdW5kOiByZ2IoNjMsIDI0OSwgMjAwKTtcblx0YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEoNjMsIDI0OSwgMjAwLCAwLjEpIDMzJSwgcmdiYSg2MywgMjQ5LCAyMjAsIDEpIDEwMCUpO1xuXHRhbmltYXRpb246ICR7c3Bpbn0gMC44cyBsaW5lYXIgMHMgaW5maW5pdGU7XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUNvcmUgPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiAxMDAlO1xuXHRiYWNrZ3JvdW5kOiAjMDAxYzI5O1xuXHRib3JkZXItcmFkaXVzOiA1MCU7XG5gO1xuIiwiaW1wb3J0IFJlYWN0LCB7IEZDIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTG9hZGluZ0NpcmNsZUNvbnRhaW5lciwgTG9hZGluZ0NpcmNsZUJveCwgTG9hZGluZ0NpcmNsZUNvcmUgfSBmcm9tICcuL3N0eWxlJztcblxuY29uc3QgTG9hZGluZ0NpcmNsZTogRkMgPSAoKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PExvYWRpbmdDaXJjbGVDb250YWluZXI+XG5cdFx0XHQ8TG9hZGluZ0NpcmNsZUJveD5cblx0XHRcdFx0PExvYWRpbmdDaXJjbGVDb3JlPjwvTG9hZGluZ0NpcmNsZUNvcmU+XG5cdFx0XHQ8L0xvYWRpbmdDaXJjbGVCb3g+XG5cdFx0PC9Mb2FkaW5nQ2lyY2xlQ29udGFpbmVyPlxuXHQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9hZGluZ0NpcmNsZTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuY29uc3QgYXBwZWFyVXAgPSBrZXlmcmFtZXNgXG5cdGZyb20ge1xuXHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0zMCUpO1xuXHRcdG9wYWNpdHk6IDA7XG5cdH1cblx0dG8ge1xuXHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuXHRcdG9wYWNpdHk6IDE7XG5cdH1cbmA7XG5cbmV4cG9ydCBjb25zdCBMb2dpbkNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG5cdGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zKTtcblx0cGFkZGluZzogMXJlbTtcblx0d2lkdGg6IGZpdC1jb250ZW50O1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogNTAlO1xuXHRsZWZ0OiA1MCU7XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuXHRhbmltYXRpb246ICR7YXBwZWFyVXB9IDAuNXMgZWFzZS1pbi1vdXQgMTtcblx0Y29sb3I6ICNmZmY7XG5cblx0JiA+IGltZyB7XG5cdFx0aGVpZ2h0OiA0cmVtO1xuXHRcdG1hcmdpbi1sZWZ0OiAtMS44cmVtO1xuXHRcdG1hcmdpbi1ib3R0b206IDFyZW07XG5cdH1cblxuXHQmID4gaDEge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRtYXJnaW4tYm90dG9tOiAxcmVtO1xuXHR9XG5cblx0JiA+IHAge1xuXHRcdGNvbG9yOiAjZmY3Nzc3O1xuXHRcdGZvbnQtc2l6ZTogMTBweDtcblx0XHRtYXJnaW4tdG9wOiAwLjVyZW07XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHR9XG5gO1xuXG5leHBvcnQgY29uc3QgTG9naW5CdXR0b24gPSBzdHlsZWQuYWBcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRtYXJnaW46IDAgYXV0bztcblx0d2lkdGg6IGZpdC1jb250ZW50O1xuXG5cdGltZyB7XG5cdFx0aGVpZ2h0OiA0MHB4O1xuXHR9XG5gO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VTV1IgZnJvbSAnc3dyJztcbmltcG9ydCBxcyBmcm9tICdxcyc7XG5pbXBvcnQgZmV0Y2hlciBmcm9tICdAdXRpbHMvZmV0Y2hlcic7XG5pbXBvcnQgeyBMb2dpbkNvbnRhaW5lciwgTG9naW5CdXR0b24gfSBmcm9tICdAcGFnZXMvQXV0aC9zdHlsZXMnO1xuaW1wb3J0IHsgZ29vZ2xlT2F1dGggfSBmcm9tICdAY29uZmlnL2NvbmZpZyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBMb2FkaW5nQ2lyY2xlIGZyb20gJ0Bjb21wb25lbnRzL0xvYWRpbmdDaXJjbGUnO1xuXG5jb25zdCBBdXRoID0gKCkgPT4ge1xuXHRjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCByZXZhbGlkYXRlIH0gPSB1c2VTV1IoJy9hcGkvYXV0aCcsIGZldGNoZXIpO1xuXHRjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcblxuXHRjb25zdCBxdWVyeSA9IHFzLnBhcnNlKGxvY2F0aW9uLnNlYXJjaCwge1xuXHRcdGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlLFxuXHR9KTtcblxuXHRpZiAobG9jYXRpb24uc2VhcmNoICYmIHVzZXJEYXRhID09PSBmYWxzZSAmJiAhZXJyb3IpIHtcblx0XHRpZiAoIXVzZXJEYXRhICYmIHF1ZXJ5LmNvZGUpIHtcblx0XHRcdGF4aW9zXG5cdFx0XHRcdC5wb3N0KFxuXHRcdFx0XHRcdGAvYXBpL2F1dGhgLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvZGVWYWx1ZTogcXVlcnkuY29kZSxcblx0XHRcdFx0XHRcdHRyYXNoVmFsdWU6ICcxMjMnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdClcblx0XHRcdFx0LnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdHJldmFsaWRhdGUoKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRcdHNldEVycm9yKGUucmVzcG9uc2UuZGF0YS5yZWFzb24pO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiA8TG9hZGluZ0NpcmNsZSAvPjtcblx0XHR9XG5cdH1cblxuXHRpZiAodXNlckRhdGEpIHtcblx0XHRpZiAocXVlcnkucHJldikgcmV0dXJuIDxSZWRpcmVjdCB0bz17YCR7cXVlcnkucHJldn1gfSAvPjtcblx0XHRlbHNlIHJldHVybiA8UmVkaXJlY3QgdG89XCIvbWFpblwiIC8+O1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8TG9naW5Db250YWluZXI+XG5cdFx0XHQ8aW1nIHNyYz1cIi9wdWJsaWMvYm9hcmRyYWcuc3ZnXCIgLz5cblx0XHRcdDxMb2dpbkJ1dHRvbiBocmVmPXtnb29nbGVPYXV0aH0gY2xhc3NOYW1lPVwiZ29vZ2xlXCI+XG5cdFx0XHRcdDxpbWcgc3JjPVwiL3B1YmxpYy9idG5fZ29vZ2xlX3NpZ25pbl9saWdodF9ub3JtYWxfd2ViQDJ4LnBuZ1wiIC8+XG5cdFx0XHQ8L0xvZ2luQnV0dG9uPlxuXHRcdFx0e2Vycm9yICYmIDxwPntlcnJvcn08L3A+fVxuXHRcdDwvTG9naW5Db250YWluZXI+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdXRoO1xuIiwiY29uc3QgaXNQcm9kdWN0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcblxuZXhwb3J0IGNvbnN0IEZUX1VJRCA9IGlzUHJvZHVjdCA/IHByb2Nlc3MuZW52LlBST0RVQ1RfVUlEIDogcHJvY2Vzcy5lbnYuREVWX1VJRDtcbmV4cG9ydCBjb25zdCBGVF9TRUNSRVQgPSAhaXNQcm9kdWN0ID8gcHJvY2Vzcy5lbnYuREVWX0NMSUVOVF9TRUNSRVQgOiBwcm9jZXNzLmVudi5QUk9EVUNUX0NMSUVOVF9TRUNSRVQ7XG5leHBvcnQgY29uc3QgR09PR0xFX0NJRCA9IHByb2Nlc3MuZW52LkRFVl9HT09HTEVfQ0lEO1xuZXhwb3J0IGNvbnN0IEZST05UX1VSTCA9ICFpc1Byb2R1Y3QgPyBwcm9jZXNzLmVudi5ERVZfVVJMIDogcHJvY2Vzcy5lbnYuUFJPRFVDVF9VUkw7XG5leHBvcnQgY29uc3QgQVVUSCA9ICcvYXV0aCc7XG5leHBvcnQgY29uc3QgRlRBUElfVVJMID0gJ2h0dHBzOi8vYXBpLmludHJhLjQyLmZyJztcbmV4cG9ydCBjb25zdCBPQVVUSCA9IGAke0ZUQVBJX1VSTH0vb2F1dGhgO1xuXG5leHBvcnQgY29uc3QgUkVESVJfVVJJID0gIWlzUHJvZHVjdCA/ICdodHRwOi8vbG9jYWxob3N0OjMwOTAvYXV0aCcgOiAnaHR0cHM6Ly80MmJvYXJkLmNvbS9hdXRoJztcblxuZXhwb3J0IGNvbnN0IGdldE9hdXRoVG9rZW5VcmwgPSAoY29kZTogc3RyaW5nKTogc3RyaW5nID0+XG5cdGAke09BVVRIfS90b2tlbj9jb2RlPSR7Y29kZX0mZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmY2xpZW50X2lkPSR7RlRfVUlEfSZjbGllbnRfc2VjcmV0PSR7RlRfU0VDUkVUfSZyZWRpcmVjdF91cmk9JHtGUk9OVF9VUkx9JHtBVVRIfWA7XG5cbmV4cG9ydCBjb25zdCBnb29nbGVPYXV0aCA9IGBodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aD9jbGllbnRfaWQ9JHtHT09HTEVfQ0lEfSZyZWRpcmVjdF91cmk9JHtSRURJUl9VUkl9JnJlc3BvbnNlX3R5cGU9Y29kZSZzY29wZT1odHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJmFwcHJvdmFsX3Byb21wdD1mb3JjZSZhY2Nlc3NfdHlwZT1vZmZsaW5lYDtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGZldGNoZXIgPSAodXJsOiBzdHJpbmcpID0+IGF4aW9zLmdldCh1cmwsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKTtcblxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIEZvcm1hdCA9IHtcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWwuYXNzaWduKFxuICAgIHtcbiAgICAgICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICAgICAgZm9ybWF0dGVyczoge1xuICAgICAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBGb3JtYXRcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3N0cmluZ2lmeScpO1xudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0czogZm9ybWF0cyxcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYXJyYXlMaW1pdDogMjAsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGNvbW1hOiBmYWxzZSxcbiAgICBkZWNvZGVyOiB1dGlscy5kZWNvZGUsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZGVwdGg6IDUsXG4gICAgaWdub3JlUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogZmFsc2UsXG4gICAgcGFyYW1ldGVyTGltaXQ6IDEwMDAsXG4gICAgcGFyc2VBcnJheXM6IHRydWUsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiMoXFxkKyk7L2csIGZ1bmN0aW9uICgkMCwgbnVtYmVyU3RyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG51bWJlclN0ciwgMTApKTtcbiAgICB9KTtcbn07XG5cbnZhciBwYXJzZUFycmF5VmFsdWUgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmNvbW1hICYmIHZhbC5pbmRleE9mKCcsJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdmFsLnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbn07XG5cbi8vIFRoaXMgaXMgd2hhdCBicm93c2VycyB3aWxsIHN1Ym1pdCB3aGVuIHRoZSDinJMgY2hhcmFjdGVyIG9jY3VycyBpbiBhblxuLy8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGJvZHkgYW5kIHRoZSBlbmNvZGluZyBvZiB0aGUgcGFnZSBjb250YWluaW5nXG4vLyB0aGUgZm9ybSBpcyBpc28tODg1OS0xLCBvciB3aGVuIHRoZSBzdWJtaXR0ZWQgZm9ybSBoYXMgYW4gYWNjZXB0LWNoYXJzZXRcbi8vIGF0dHJpYnV0ZSBvZiBpc28tODg1OS0xLiBQcmVzdW1hYmx5IGFsc28gd2l0aCBvdGhlciBjaGFyc2V0cyB0aGF0IGRvIG5vdCBjb250YWluXG4vLyB0aGUg4pyTIGNoYXJhY3Rlciwgc3VjaCBhcyB1cy1hc2NpaS5cbnZhciBpc29TZW50aW5lbCA9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpXG5cbi8vIFRoZXNlIGFyZSB0aGUgcGVyY2VudC1lbmNvZGVkIHV0Zi04IG9jdGV0cyByZXByZXNlbnRpbmcgYSBjaGVja21hcmssIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCBhY3R1YWxseSBpcyB1dGYtOCBlbmNvZGVkLlxudmFyIGNoYXJzZXRTZW50aW5lbCA9ICd1dGY4PSVFMiU5QyU5Myc7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcblxudmFyIHBhcnNlVmFsdWVzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ1ZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGNsZWFuU3RyID0gb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA/IHN0ci5yZXBsYWNlKC9eXFw/LywgJycpIDogc3RyO1xuICAgIHZhciBsaW1pdCA9IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDtcbiAgICB2YXIgcGFydHMgPSBjbGVhblN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgbGltaXQpO1xuICAgIHZhciBza2lwSW5kZXggPSAtMTsgLy8gS2VlcCB0cmFjayBvZiB3aGVyZSB0aGUgdXRmOCBzZW50aW5lbCB3YXMgZm91bmRcbiAgICB2YXIgaTtcblxuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0O1xuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXS5pbmRleE9mKCd1dGY4PScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSBjaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICd1dGYtOCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXSA9PT0gaXNvU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICdpc28tODg1OS0xJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpID0gcGFydHMubGVuZ3RoOyAvLyBUaGUgZXNsaW50IHNldHRpbmdzIGRvIG5vdCBhbGxvdyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gc2tpcEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIHZhciBicmFja2V0RXF1YWxzUG9zID0gcGFydC5pbmRleE9mKCddPScpO1xuICAgICAgICB2YXIgcG9zID0gYnJhY2tldEVxdWFsc1BvcyA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IGJyYWNrZXRFcXVhbHNQb3MgKyAxO1xuXG4gICAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA/IG51bGwgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKDAsIHBvcyksIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IHV0aWxzLm1heWJlTWFwKFxuICAgICAgICAgICAgICAgIHBhcnNlQXJyYXlWYWx1ZShwYXJ0LnNsaWNlKHBvcyArIDEpLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZW5jb2RlZFZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kZWNvZGVyKGVuY29kZWRWYWwsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC5pbmRleE9mKCdbXT0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YWwgPSBpc0FycmF5KHZhbCkgPyBbdmFsXSA6IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdXRpbHMuY29tYmluZShvYmpba2V5XSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZU9iamVjdCA9IGZ1bmN0aW9uIChjaGFpbiwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICB2YXIgbGVhZiA9IHZhbHVlc1BhcnNlZCA/IHZhbCA6IHBhcnNlQXJyYXlWYWx1ZSh2YWwsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIHZhciByb290ID0gY2hhaW5baV07XG5cbiAgICAgICAgaWYgKHJvb3QgPT09ICdbXScgJiYgb3B0aW9ucy5wYXJzZUFycmF5cykge1xuICAgICAgICAgICAgb2JqID0gW10uY29uY2F0KGxlYWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgICAgICAgICB2YXIgY2xlYW5Sb290ID0gcm9vdC5jaGFyQXQoMCkgPT09ICdbJyAmJiByb290LmNoYXJBdChyb290Lmxlbmd0aCAtIDEpID09PSAnXScgPyByb290LnNsaWNlKDEsIC0xKSA6IHJvb3Q7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChjbGVhblJvb3QsIDEwKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wYXJzZUFycmF5cyAmJiBjbGVhblJvb3QgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0geyAwOiBsZWFmIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICFpc05hTihpbmRleClcbiAgICAgICAgICAgICAgICAmJiByb290ICE9PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBTdHJpbmcoaW5kZXgpID09PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBpbmRleCA+PSAwXG4gICAgICAgICAgICAgICAgJiYgKG9wdGlvbnMucGFyc2VBcnJheXMgJiYgaW5kZXggPD0gb3B0aW9ucy5hcnJheUxpbWl0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gW107XG4gICAgICAgICAgICAgICAgb2JqW2luZGV4XSA9IGxlYWY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtjbGVhblJvb3RdID0gbGVhZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxlYWYgPSBvYmo7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gb3B0aW9ucy5kZXB0aCA+IDAgJiYgYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKG9wdGlvbnMuZGVwdGggPiAwICYmIChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZWNvZGVyICE9PSBudWxsICYmIG9wdHMuZGVjb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmRlY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHZhciBjaGFyc2V0ID0gdHlwZW9mIG9wdHMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5jaGFyc2V0IDogb3B0cy5jaGFyc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgYWxsb3dQcm90b3R5cGVzOiB0eXBlb2Ygb3B0cy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzLFxuICAgICAgICBhcnJheUxpbWl0OiB0eXBlb2Ygb3B0cy5hcnJheUxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMuYXJyYXlMaW1pdCA6IGRlZmF1bHRzLmFycmF5TGltaXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWE6IHR5cGVvZiBvcHRzLmNvbW1hID09PSAnYm9vbGVhbicgPyBvcHRzLmNvbW1hIDogZGVmYXVsdHMuY29tbWEsXG4gICAgICAgIGRlY29kZXI6IHR5cGVvZiBvcHRzLmRlY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRlY29kZXIgOiBkZWZhdWx0cy5kZWNvZGVyLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3N0cmluZycgfHwgdXRpbHMuaXNSZWdFeHAob3B0cy5kZWxpbWl0ZXIpID8gb3B0cy5kZWxpbWl0ZXIgOiBkZWZhdWx0cy5kZWxpbWl0ZXIsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvbiwgbm8tZXh0cmEtcGFyZW5zXG4gICAgICAgIGRlcHRoOiAodHlwZW9mIG9wdHMuZGVwdGggPT09ICdudW1iZXInIHx8IG9wdHMuZGVwdGggPT09IGZhbHNlKSA/ICtvcHRzLmRlcHRoIDogZGVmYXVsdHMuZGVwdGgsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBvcHRzLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlLFxuICAgICAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IHR5cGVvZiBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgOiBkZWZhdWx0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMsXG4gICAgICAgIHBhcmFtZXRlckxpbWl0OiB0eXBlb2Ygb3B0cy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQsXG4gICAgICAgIHBhcnNlQXJyYXlzOiBvcHRzLnBhcnNlQXJyYXlzICE9PSBmYWxzZSxcbiAgICAgICAgcGxhaW5PYmplY3RzOiB0eXBlb2Ygb3B0cy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdHMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cyk7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zLCB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXJyYXlQcmVmaXhHZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzOiBmdW5jdGlvbiBicmFja2V0cyhwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbXSc7XG4gICAgfSxcbiAgICBjb21tYTogJ2NvbW1hJyxcbiAgICBpbmRpY2VzOiBmdW5jdGlvbiBpbmRpY2VzKHByZWZpeCwga2V5KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQ6IGZ1bmN0aW9uIHJlcGVhdChwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShcbiAgICBvYmplY3QsXG4gICAgcHJlZml4LFxuICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIHNraXBOdWxscyxcbiAgICBlbmNvZGVyLFxuICAgIGZpbHRlcixcbiAgICBzb3J0LFxuICAgIGFsbG93RG90cyxcbiAgICBzZXJpYWxpemVEYXRlLFxuICAgIGZvcm1hdHRlcixcbiAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgIGNoYXJzZXRcbikge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZShvYmopO1xuICAgIH0gZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc0FycmF5KG9iaikpIHtcbiAgICAgICAgb2JqID0gdXRpbHMubWF5YmVNYXAob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID8gZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknKSA6IHByZWZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cblxuICAgIGlmIChpc05vbk51bGxpc2hQcmltaXRpdmUob2JqKSB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHJldHVybiBbZm9ybWF0dGVyKGtleVZhbHVlKSArICc9JyArIGZvcm1hdHRlcihlbmNvZGVyKG9iaiwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJykpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyKFN0cmluZyhvYmopKV07XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIG9iaktleXM7XG4gICAgaWYgKGlzQXJyYXkoZmlsdGVyKSkge1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgb2JqS2V5cyA9IHNvcnQgPyBrZXlzLnNvcnQoc29ydCkgOiBrZXlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5UHJlZml4ID0gaXNBcnJheShvYmopXG4gICAgICAgICAgICA/IHR5cGVvZiBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnZnVuY3Rpb24nID8gZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSkgOiBwcmVmaXhcbiAgICAgICAgICAgIDogcHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGtleSA6ICdbJyArIGtleSArICddJyk7XG5cbiAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGtleVByZWZpeCxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgb3B0cy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXR0ZXI6IGZvcm1hdHRlcixcbiAgICAgICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAgICAgc29ydDogdHlwZW9mIG9wdHMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc29ydCA6IG51bGwsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZ1xuICAgIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKTtcblxuICAgIHZhciBvYmpLZXlzO1xuICAgIHZhciBmaWx0ZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRzICYmIG9wdHMuYXJyYXlGb3JtYXQgaW4gYXJyYXlQcmVmaXhHZW5lcmF0b3JzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5hcnJheUZvcm1hdDtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgJ2luZGljZXMnIGluIG9wdHMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9ICdpbmRpY2VzJztcbiAgICB9XG5cbiAgICB2YXIgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5UHJlZml4R2VuZXJhdG9yc1thcnJheUZvcm1hdF07XG5cbiAgICBpZiAoIW9iaktleXMpIHtcbiAgICAgICAgb2JqS2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoVG9BcnJheShrZXlzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0dGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgb3B0aW9ucy5jaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHZhciBqb2luZWQgPSBrZXlzLmpvaW4ob3B0aW9ucy5kZWxpbWl0ZXIpO1xuICAgIHZhciBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG5cbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGhleFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufSgpKTtcblxudmFyIGNvbXBhY3RRdWV1ZSA9IGZ1bmN0aW9uIGNvbXBhY3RRdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHZhciBjb21wYWN0ZWQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0ub2JqW2l0ZW0ucHJvcF0gPSBjb21wYWN0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIGFycmF5VG9PYmplY3Qoc291cmNlLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAvKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IDAgKi9cbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8ICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBbdGFyZ2V0XS5jb25jYXQoc291cmNlKTtcbiAgICB9XG5cbiAgICB2YXIgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiAhaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlUb09iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJdGVtID0gdGFyZ2V0W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJdGVtICYmIHR5cGVvZiB0YXJnZXRJdGVtID09PSAnb2JqZWN0JyAmJiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBtZXJnZSh0YXJnZXRJdGVtLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW2tleV07XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBtZXJnZShhY2Nba2V5XSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG1lcmdlVGFyZ2V0KTtcbn07XG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ25TaW5nbGVTb3VyY2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn07XG5cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3RyLCBkZWNvZGVyLCBjaGFyc2V0KSB7XG4gICAgdmFyIHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cztcbiAgICB9XG59O1xuXG52YXIgZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKHN0ciwgZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICkge1xuICAgICAgICAgICAgb3V0ICs9IHN0cmluZy5jaGFyQXQoaSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgaGV4VGFibGVbY107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEMwIHwgKGMgPj4gNildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweEQ4MDAgfHwgYyA+PSAweEUwMDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEUwIHwgKGMgPj4gMTIpXSArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpICs9IDE7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M0ZGKSA8PCAxMCkgfCAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgJiAweDNGRikpO1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbnZhciBtYXliZU1hcCA9IGZ1bmN0aW9uIG1heWJlTWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtYXliZU1hcDogbWF5YmVNYXAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==