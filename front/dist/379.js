(self.webpackChunk_42board_front=self.webpackChunk_42board_front||[]).push([[379],{6317:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(7294),n=r(5366);const i=r(9911).F4`
	from {
		transform: rotate(0);
	}
	to {
		transform: rotate(359deg);
	}
`,a=(0,n.Z)("div",{target:"egpcubb2",label:"LoadingCircleContainer"})({name:"8lbyj9",styles:"width:300px;height:300px;display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),l=(0,n.Z)("div",{target:"egpcubb1",label:"LoadingCircleBox"})("width:150px;height:150px;padding:3px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:rgb(63, 249, 200);background:linear-gradient(0deg, rgba(63, 249, 200, 0.1) 33%, rgba(63, 249, 220, 1) 100%);animation:",i," 0.8s linear 0s infinite;"),c=(0,n.Z)("div",{target:"egpcubb0",label:"LoadingCircleCore"})({name:"1sudnkc",styles:"width:100%;height:100%;background:#001c29;border-radius:50%"}),s=()=>o.createElement(a,null,o.createElement(l,null,o.createElement(c,null)))},9379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(7294),n=r(8100),i=r(129),a=r.n(i),l=r(3564),c=r(5366);const s=r(9911).F4`
	from {
		transform: translate(-50%, -30%);
		opacity: 0;
	}
	to {
		transform: translate(-50%, -50%);
		opacity: 1;
	}
`,u=(0,c.Z)("div",{target:"eoptdla1",label:"LoginContainer"})("background:rgba(0, 0, 0, 0.3);padding:1rem;width:fit-content;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);animation:",s," 0.5s ease-in-out 1;color:#fff;&>img{height:4rem;margin-left:-1.8rem;margin-bottom:1rem;}&>h1{text-align:center;margin-bottom:1rem;}&>p{color:#ff7777;font-size:10px;margin-top:0.5rem;text-align:center;}"),f=(0,c.Z)("a",{target:"eoptdla0",label:"LoginButton"})({name:"lvc5fg",styles:"position:relative;display:flex;margin:0 auto;width:fit-content;img{height:40px;}"});var p=r(3653),d=r.n(p),m=r(5977),y=r(6317);const h=()=>{const{data:e,revalidate:t}=(0,n.ZP)("/api/auth",l.Z),[r,i]=o.useState(""),c=a().parse(location.search,{ignoreQueryPrefix:!0});return location.search&&!1===e&&!r&&!e&&c.code?(d().post("/api/auth",{codeValue:c.code,trashValue:"123"},{withCredentials:!0}).then((e=>(t(),e.data))).catch((e=>{i(e.response.data.reason)})),o.createElement(y.Z,null)):e?c.prev?o.createElement(m.l_,{to:""+c.prev}):o.createElement(m.l_,{to:"/main"}):o.createElement(u,null,o.createElement("img",{src:"/public/boardrag.svg"}),o.createElement(f,{href:"https://accounts.google.com/o/oauth2/auth?client_id=480747610420-0q3f8siln71vrnvd9m7o251nu50f39r6.apps.googleusercontent.com&redirect_uri=https://42board.com/auth&response_type=code&scope=https://www.googleapis.com/auth/userinfo.email&approval_prompt=force&access_type=offline",className:"google"},o.createElement("img",{src:"/public/btn_google_signin_light_normal_web@2x.png"})),r&&o.createElement("p",null,r))}},3564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(3653),n=r.n(o);const i=e=>n().get(e,{withCredentials:!0}).then((e=>e.data))},5798:(e,t,r)=>{"use strict";var o=String.prototype.replace,n=/%20/g,i=r(2769),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}}},a)},129:(e,t,r)=>{"use strict";var o=r(8261),n=r(5235),i=r(5798);e.exports={formats:i,parse:n,stringify:o}},5235:(e,t,r)=>{"use strict";var o=r(2769),n=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=l?i.slice(0,l.index):i,u=[];if(s){if(!r.plainObjects&&n.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var f=0;r.depth>0&&null!==(l=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),function(e,t,r,o){for(var n=o?t:c(t,r),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&l!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=n:a[s]=n:a={0:n}}n=a}return n}(u,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,f),d=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?m="utf-8":"utf8=%26%2310003%3B"===p[r]&&(m="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var y,h,g=p[r],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(y=t.decoder(g,a.decoder,m,"key"),h=t.strictNullHandling?null:""):(y=t.decoder(g.slice(0,v),a.decoder,m,"key"),h=o.maybeMap(c(g.slice(v+1),t),(function(e){return t.decoder(e,a.decoder,m,"value")}))),h&&t.interpretNumericEntities&&"iso-8859-1"===m&&(h=l(h)),g.indexOf("[]=")>-1&&(h=i(h)?[h]:h),n.call(s,y)?s[y]=o.combine(s[y],h):s[y]=h}return s}(e,r):e,f=r.plainObjects?Object.create(null):{},p=Object.keys(u),d=0;d<p.length;++d){var m=p[d],y=s(m,u[m],r,"string"==typeof e);f=o.merge(f,y,r)}return o.compact(f)}},8261:(e,t,r)=>{"use strict";var o=r(2769),n=r(5798),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,l(t)?t:[t])},u=Date.prototype.toISOString,f=n.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,n,i,a,c,u,f,d,m,y,h,g){var b,v=t;if("function"==typeof u?v=u(r,v):v instanceof Date?v=m(v):"comma"===n&&l(v)&&(v=o.maybeMap(v,(function(e){return e instanceof Date?m(e):e})).join(",")),null===v){if(i)return c&&!h?c(r,p.encoder,g,"key"):r;v=""}if("string"==typeof(b=v)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||o.isBuffer(v))return c?[y(h?r:c(r,p.encoder,g,"key"))+"="+y(c(v,p.encoder,g,"value"))]:[y(r)+"="+y(String(v))];var j,w=[];if(void 0===v)return w;if(l(u))j=u;else{var O=Object.keys(v);j=f?O.sort(f):O}for(var x=0;x<j.length;++x){var E=j[x],k=v[E];if(!a||null!==k){var N=l(v)?"function"==typeof n?n(r,E):r:r+(d?"."+E:"["+E+"]");s(w,e(k,N,n,i,a,c,u,f,d,m,y,h,g))}}return w};e.exports=function(e,t){var r,o=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!i.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],a=p.filter;return("function"==typeof e.filter||l(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(r=c.filter);var u,f=[];if("object"!=typeof o||null===o)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=a[u];r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var y=0;y<r.length;++y){var h=r[y];c.skipNulls&&null===o[h]||s(f,d(o[h],h,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},2769:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:n,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],o=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var s=l[c],u=a[s];"object"==typeof u&&null!==u&&-1===o.indexOf(u)&&(t.push({obj:a,prop:s}),o.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),o=t.obj[t.prop];if(r(o)){for(var n=[],i=0;i<o.length;++i)void 0!==o[i]&&n.push(o[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<n.length;++a){var l=n.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?i+=n.charAt(a):l<128?i+=o[l]:l<2048?i+=o[192|l>>6]+o[128|63&l]:l<55296||l>=57344?i+=o[224|l>>12]+o[128|l>>6&63]+o[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&n.charCodeAt(a)),i+=o[240|l>>18]+o[128|l>>12&63]+o[128|l>>6&63]+o[128|63&l])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var o=[],n=0;n<e.length;n+=1)o.push(t(e[n]));return o}return t(e)},merge:function e(o,i,a){if(!i)return o;if("object"!=typeof i){if(r(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(a&&(a.plainObjects||a.allowPrototypes)||!t.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var l=o;return r(o)&&!r(i)&&(l=n(o,a)),r(o)&&r(i)?(i.forEach((function(r,n){if(t.call(o,n)){var i=o[n];i&&"object"==typeof i&&r&&"object"==typeof r?o[n]=e(i,r,a):o.push(r)}else o[n]=r})),o):Object.keys(i).reduce((function(r,o){var n=i[o];return t.call(r,o)?r[o]=e(r[o],n,a):r[o]=n,r}),l)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9sb2FkaW5nL0xvYWRpbmdDaXJjbGUvc3R5bGUudHN4Iiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9jb21wb25lbnRzL2xvYWRpbmcvTG9hZGluZ0NpcmNsZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL3BhZ2VzL0F1dGgvc3R5bGVzLnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vcGFnZXMvQXV0aC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL2NvbmZpZy9jb25maWcudHN4Iiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi91dGlscy9mZXRjaGVyLnRzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL25vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vNDJib2FyZC1mcm9udC8uL25vZGVfbW9kdWxlcy9xcy9saWIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL3V0aWxzLmpzIl0sIm5hbWVzIjpbInNwaW4iLCJrZXlmcmFtZXMiLCJMb2FkaW5nQ2lyY2xlQ29udGFpbmVyIiwiTG9hZGluZ0NpcmNsZUJveCIsIkxvYWRpbmdDaXJjbGVDb3JlIiwiYXBwZWFyVXAiLCJMb2dpbkNvbnRhaW5lciIsIkxvZ2luQnV0dG9uIiwiZGF0YSIsInVzZXJEYXRhIiwicmV2YWxpZGF0ZSIsInVzZVNXUiIsImZldGNoZXIiLCJlcnJvciIsInNldEVycm9yIiwiUmVhY3QiLCJxdWVyeSIsInFzIiwibG9jYXRpb24iLCJzZWFyY2giLCJpZ25vcmVRdWVyeVByZWZpeCIsImNvZGUiLCJheGlvcyIsImNvZGVWYWx1ZSIsInRyYXNoVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ0aGVuIiwicmVzIiwiY2F0Y2giLCJlIiwicmVzcG9uc2UiLCJyZWFzb24iLCJMb2FkaW5nQ2lyY2xlIiwicHJldiIsInRvIiwic3JjIiwiaHJlZiIsImNsYXNzTmFtZSIsInVybCIsInJlcGxhY2UiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJwZXJjZW50VHdlbnRpZXMiLCJ1dGlsIiwiRm9ybWF0IiwiUkZDMTczOCIsIlJGQzM5ODYiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXNzaWduIiwiZm9ybWF0dGVycyIsInZhbHVlIiwiY2FsbCIsInN0cmluZ2lmeSIsInBhcnNlIiwiZm9ybWF0cyIsInV0aWxzIiwiaGFzIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJpc0FycmF5IiwiQXJyYXkiLCJkZWZhdWx0cyIsImFsbG93RG90cyIsImFsbG93UHJvdG90eXBlcyIsImFycmF5TGltaXQiLCJjaGFyc2V0IiwiY2hhcnNldFNlbnRpbmVsIiwiY29tbWEiLCJkZWNvZGVyIiwiZGVjb2RlIiwiZGVsaW1pdGVyIiwiZGVwdGgiLCJpbnRlcnByZXROdW1lcmljRW50aXRpZXMiLCJwYXJhbWV0ZXJMaW1pdCIsInBhcnNlQXJyYXlzIiwicGxhaW5PYmplY3RzIiwic3RyaWN0TnVsbEhhbmRsaW5nIiwic3RyIiwiJDAiLCJudW1iZXJTdHIiLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUludCIsInBhcnNlQXJyYXlWYWx1ZSIsInZhbCIsIm9wdGlvbnMiLCJpbmRleE9mIiwic3BsaXQiLCJwYXJzZUtleXMiLCJnaXZlbktleSIsInZhbHVlc1BhcnNlZCIsImtleSIsImNoaWxkIiwic2VnbWVudCIsImV4ZWMiLCJwYXJlbnQiLCJzbGljZSIsImluZGV4Iiwia2V5cyIsInB1c2giLCJpIiwiY2hhaW4iLCJsZWFmIiwibGVuZ3RoIiwib2JqIiwicm9vdCIsImNvbmNhdCIsImNyZWF0ZSIsImNsZWFuUm9vdCIsImNoYXJBdCIsImlzTmFOIiwiMCIsInBhcnNlT2JqZWN0Iiwib3B0cyIsInVuZGVmaW5lZCIsIlR5cGVFcnJvciIsImlzUmVnRXhwIiwibm9ybWFsaXplUGFyc2VPcHRpb25zIiwidGVtcE9iaiIsImNsZWFuU3RyIiwibGltaXQiLCJJbmZpbml0eSIsInBhcnRzIiwic2tpcEluZGV4IiwicGFydCIsImJyYWNrZXRFcXVhbHNQb3MiLCJwb3MiLCJtYXliZU1hcCIsImVuY29kZWRWYWwiLCJjb21iaW5lIiwicGFyc2VWYWx1ZXMiLCJuZXdPYmoiLCJtZXJnZSIsImNvbXBhY3QiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImluZGljZXMiLCJyZXBlYXQiLCJwdXNoVG9BcnJheSIsImFyciIsInZhbHVlT3JBcnJheSIsImFwcGx5IiwidG9JU08iLCJEYXRlIiwidG9JU09TdHJpbmciLCJkZWZhdWx0Rm9ybWF0IiwiYWRkUXVlcnlQcmVmaXgiLCJlbmNvZGUiLCJlbmNvZGVyIiwiZW5jb2RlVmFsdWVzT25seSIsImZvcm1hdCIsImZvcm1hdHRlciIsInNlcmlhbGl6ZURhdGUiLCJkYXRlIiwic2tpcE51bGxzIiwib2JqZWN0IiwiZ2VuZXJhdGVBcnJheVByZWZpeCIsImZpbHRlciIsInNvcnQiLCJ2Iiwiam9pbiIsImlzQnVmZmVyIiwib2JqS2V5cyIsInZhbHVlcyIsImtleVByZWZpeCIsIm5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMiLCJhcnJheUZvcm1hdCIsImpvaW5lZCIsImhleFRhYmxlIiwiYXJyYXkiLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiYXJyYXlUb09iamVjdCIsInNvdXJjZSIsInRhcmdldCIsInJlZHVjZSIsImFjYyIsImEiLCJiIiwicXVldWUiLCJvIiwicHJvcCIsInJlZnMiLCJpdGVtIiwiaiIsInBvcCIsImNvbXBhY3RlZCIsImNvbXBhY3RRdWV1ZSIsInN0cldpdGhvdXRQbHVzIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkZWZhdWx0RW5jb2RlciIsInN0cmluZyIsIlN5bWJvbCIsImVzY2FwZSIsIm91dCIsImMiLCJjaGFyQ29kZUF0IiwiY29uc3RydWN0b3IiLCJmbiIsIm1hcHBlZCIsIm1lcmdlVGFyZ2V0IiwiZm9yRWFjaCIsInRhcmdldEl0ZW0iXSwibWFwcGluZ3MiOiJ3SkFHQSxNQUFNQSxFLFFBQU9DLEVBQVU7Ozs7Ozs7RUFTVkMsR0FBeUIsY0FBSCxrREFBRyxDQUFILDZLQVl0QkMsR0FBbUIsY0FBSCw0Q0FBRyxDQUFILGtQQVVmSCxFQVZlLDZCQWFoQkksR0FBb0IsY0FBSCw2Q0FBRyxDQUFILHVGQ3hCOUIsRUFWMEIsSUFFeEIsZ0JBQUNGLEVBQUQsS0FDQyxnQkFBQ0MsRUFBRCxLQUNDLGdCQUFDQyxFQUFELFMsd0hDSkosTUFBTUMsRSxRQUFXSixFQUFVOzs7Ozs7Ozs7RUFXZEssR0FBaUIsY0FBSCwwQ0FBRyxDQUFILDZJQVFiRCxFQVJhLDhNQThCZEUsR0FBYyxZQUFILHVDQUFHLENBQUgsMkcsMkNDbEN4QixNQWdEQSxFQWhEYSxLQUNaLE1BQVFDLEtBQU1DLEVBQVIsV0FBa0JDLElBQWVDLFFBQU8sWUFBYUMsTUFDcERDLEVBQU9DLEdBQVlDLFdBQWUsSUFFbkNDLEVBQVFDLFVBQVNDLFNBQVNDLE9BQVEsQ0FDdkNDLG1CQUFtQixJQUdwQixPQUFJRixTQUFTQyxTQUF1QixJQUFiVixJQUF1QkksSUFDeENKLEdBQVlPLEVBQU1LLE1BQ3RCQyxTQUVHLFlBQ0QsQ0FDQ0MsVUFBV1AsRUFBTUssS0FDakJHLFdBQVksT0FFYixDQUNDQyxpQkFBaUIsSUFHbEJDLE1BQU1DLElBQ05qQixJQUNPaUIsRUFBSW5CLFFBRVhvQixPQUFPQyxJQUNQZixFQUFTZSxFQUFFQyxTQUFTdEIsS0FBS3VCLFdBRXBCLGdCQUFDQyxFQUFBLEVBQUQsT0FJTHZCLEVBQ0NPLEVBQU1pQixLQUFhLGdCQUFDLEtBQUQsQ0FBVUMsR0FBSyxHQUFFbEIsRUFBTWlCLE9BQ2xDLGdCQUFDLEtBQUQsQ0FBVUMsR0FB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QyxFQUFPa0MsR0FFbEM0RixFQUFJdEYsR0FBT3hDLEVBRVI4SCxJQUNSeUIiLCJmaWxlIjoiMzc5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuXG5jb25zdCBzcGluID0ga2V5ZnJhbWVzYFxuXHRmcm9tIHtcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcblx0fVxuXHR0byB7XG5cdFx0dHJhbnNmb3JtOiByb3RhdGUoMzU5ZGVnKTtcblx0fVxuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMzAwcHg7XG5cdGhlaWdodDogMzAwcHg7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogNTAlO1xuXHRsZWZ0OiA1MCU7XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVCb3ggPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMTUwcHg7XG5cdGhlaWdodDogMTUwcHg7XG5cdHBhZGRpbmc6IDNweDtcblx0ZGlzcGxheTogZmxleDtcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGJvcmRlci1yYWRpdXM6IDUwJTtcblx0YmFja2dyb3VuZDogcmdiKDYzLCAyNDksIDIwMCk7XG5cdGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKDYzLCAyNDksIDIwMCwgMC4xKSAzMyUsIHJnYmEoNjMsIDI0OSwgMjIwLCAxKSAxMDAlKTtcblx0YW5pbWF0aW9uOiAke3NwaW59IDAuOHMgbGluZWFyIDBzIGluZmluaXRlO1xuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVDb3JlID0gc3R5bGVkLmRpdmBcblx0d2lkdGg6IDEwMCU7XG5cdGhlaWdodDogMTAwJTtcblx0YmFja2dyb3VuZDogIzAwMWMyOTtcblx0Ym9yZGVyLXJhZGl1czogNTAlO1xuYDtcbiIsImltcG9ydCBSZWFjdCwgeyBGQyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExvYWRpbmdDaXJjbGVDb250YWluZXIsIExvYWRpbmdDaXJjbGVCb3gsIExvYWRpbmdDaXJjbGVDb3JlIH0gZnJvbSAnLi9zdHlsZSc7XG5cbmNvbnN0IExvYWRpbmdDaXJjbGU6IEZDID0gKCkgPT4ge1xuXHRyZXR1cm4gKFxuXHRcdDxMb2FkaW5nQ2lyY2xlQ29udGFpbmVyPlxuXHRcdFx0PExvYWRpbmdDaXJjbGVCb3g+XG5cdFx0XHRcdDxMb2FkaW5nQ2lyY2xlQ29yZT48L0xvYWRpbmdDaXJjbGVDb3JlPlxuXHRcdFx0PC9Mb2FkaW5nQ2lyY2xlQm94PlxuXHRcdDwvTG9hZGluZ0NpcmNsZUNvbnRhaW5lcj5cblx0KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExvYWRpbmdDaXJjbGU7XG4iLCJpbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IGFwcGVhclVwID0ga2V5ZnJhbWVzYFxuXHRmcm9tIHtcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtMzAlKTtcblx0XHRvcGFjaXR5OiAwO1xuXHR9XG5cdHRvIHtcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcblx0XHRvcGFjaXR5OiAxO1xuXHR9XG5gO1xuXG5leHBvcnQgY29uc3QgTG9naW5Db250YWluZXIgPSBzdHlsZWQuZGl2YFxuXHRiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMyk7XG5cdHBhZGRpbmc6IDFyZW07XG5cdHdpZHRoOiBmaXQtY29udGVudDtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR0b3A6IDUwJTtcblx0bGVmdDogNTAlO1xuXHR0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcblx0YW5pbWF0aW9uOiAke2FwcGVhclVwfSAwLjVzIGVhc2UtaW4tb3V0IDE7XG5cdGNvbG9yOiAjZmZmO1xuXG5cdCYgPiBpbWcge1xuXHRcdGhlaWdodDogNHJlbTtcblx0XHRtYXJnaW4tbGVmdDogLTEuOHJlbTtcblx0XHRtYXJnaW4tYm90dG9tOiAxcmVtO1xuXHR9XG5cblx0JiA+IGgxIHtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0bWFyZ2luLWJvdHRvbTogMXJlbTtcblx0fVxuXG5cdCYgPiBwIHtcblx0XHRjb2xvcjogI2ZmNzc3Nztcblx0XHRmb250LXNpemU6IDEwcHg7XG5cdFx0bWFyZ2luLXRvcDogMC41cmVtO1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0fVxuYDtcblxuZXhwb3J0IGNvbnN0IExvZ2luQnV0dG9uID0gc3R5bGVkLmFgXG5cdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0ZGlzcGxheTogZmxleDtcblx0bWFyZ2luOiAwIGF1dG87XG5cdHdpZHRoOiBmaXQtY29udGVudDtcblxuXHRpbWcge1xuXHRcdGhlaWdodDogNDBweDtcblx0fVxuYDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU1dSIGZyb20gJ3N3cic7XG5pbXBvcnQgcXMgZnJvbSAncXMnO1xuaW1wb3J0IGZldGNoZXIgZnJvbSAnQHV0aWxzL2ZldGNoZXInO1xuaW1wb3J0IHsgTG9naW5Db250YWluZXIsIExvZ2luQnV0dG9uIH0gZnJvbSAnQHBhZ2VzL0F1dGgvc3R5bGVzJztcbmltcG9ydCB7IGdvb2dsZU9hdXRoIH0gZnJvbSAnQGNvbmZpZy9jb25maWcnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgTG9hZGluZ0NpcmNsZSBmcm9tICdAY29tcG9uZW50cy9sb2FkaW5nL0xvYWRpbmdDaXJjbGUnO1xuXG5jb25zdCBBdXRoID0gKCkgPT4ge1xuXHRjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCByZXZhbGlkYXRlIH0gPSB1c2VTV1IoJy9hcGkvYXV0aCcsIGZldGNoZXIpO1xuXHRjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcblxuXHRjb25zdCBxdWVyeSA9IHFzLnBhcnNlKGxvY2F0aW9uLnNlYXJjaCwge1xuXHRcdGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlLFxuXHR9KTtcblxuXHRpZiAobG9jYXRpb24uc2VhcmNoICYmIHVzZXJEYXRhID09PSBmYWxzZSAmJiAhZXJyb3IpIHtcblx0XHRpZiAoIXVzZXJEYXRhICYmIHF1ZXJ5LmNvZGUpIHtcblx0XHRcdGF4aW9zXG5cdFx0XHRcdC5wb3N0KFxuXHRcdFx0XHRcdGAvYXBpL2F1dGhgLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvZGVWYWx1ZTogcXVlcnkuY29kZSxcblx0XHRcdFx0XHRcdHRyYXNoVmFsdWU6ICcxMjMnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdClcblx0XHRcdFx0LnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdHJldmFsaWRhdGUoKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRcdHNldEVycm9yKGUucmVzcG9uc2UuZGF0YS5yZWFzb24pO1xuXHRcdFx0XHR9KTtcblx0XHRcdHJldHVybiA8TG9hZGluZ0NpcmNsZSAvPjtcblx0XHR9XG5cdH1cblxuXHRpZiAodXNlckRhdGEpIHtcblx0XHRpZiAocXVlcnkucHJldikgcmV0dXJuIDxSZWRpcmVjdCB0bz17YCR7cXVlcnkucHJldn1gfSAvPjtcblx0XHRlbHNlIHJldHVybiA8UmVkaXJlY3QgdG89XCIvbWFpblwiIC8+O1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8TG9naW5Db250YWluZXI+XG5cdFx0XHQ8aW1nIHNyYz1cIi9wdWJsaWMvYm9hcmRyYWcuc3ZnXCIgLz5cblx0XHRcdDxMb2dpbkJ1dHRvbiBocmVmPXtnb29nbGVPYXV0aH0gY2xhc3NOYW1lPVwiZ29vZ2xlXCI+XG5cdFx0XHRcdDxpbWcgc3JjPVwiL3B1YmxpYy9idG5fZ29vZ2xlX3NpZ25pbl9saWdodF9ub3JtYWxfd2ViQDJ4LnBuZ1wiIC8+XG5cdFx0XHQ8L0xvZ2luQnV0dG9uPlxuXHRcdFx0e2Vycm9yICYmIDxwPntlcnJvcn08L3A+fVxuXHRcdDwvTG9naW5Db250YWluZXI+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdXRoO1xuIiwiY29uc3QgaXNQcm9kdWN0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcblxuZXhwb3J0IGNvbnN0IEZUX1VJRCA9IGlzUHJvZHVjdCA/IHByb2Nlc3MuZW52LlBST0RVQ1RfVUlEIDogcHJvY2Vzcy5lbnYuREVWX1VJRDtcbmV4cG9ydCBjb25zdCBGVF9TRUNSRVQgPSAhaXNQcm9kdWN0ID8gcHJvY2Vzcy5lbnYuREVWX0NMSUVOVF9TRUNSRVQgOiBwcm9jZXNzLmVudi5QUk9EVUNUX0NMSUVOVF9TRUNSRVQ7XG5leHBvcnQgY29uc3QgR09PR0xFX0NJRCA9IHByb2Nlc3MuZW52LkRFVl9HT09HTEVfQ0lEO1xuZXhwb3J0IGNvbnN0IEZST05UX1VSTCA9ICFpc1Byb2R1Y3QgPyBwcm9jZXNzLmVudi5ERVZfVVJMIDogcHJvY2Vzcy5lbnYuUFJPRFVDVF9VUkw7XG5leHBvcnQgY29uc3QgQVVUSCA9ICcvYXV0aCc7XG5leHBvcnQgY29uc3QgRlRBUElfVVJMID0gJ2h0dHBzOi8vYXBpLmludHJhLjQyLmZyJztcbmV4cG9ydCBjb25zdCBPQVVUSCA9IGAke0ZUQVBJX1VSTH0vb2F1dGhgO1xuXG5leHBvcnQgY29uc3QgUkVESVJfVVJJID0gIWlzUHJvZHVjdCA/ICdodHRwOi8vbG9jYWxob3N0OjMwOTAvYXV0aCcgOiAnaHR0cHM6Ly80MmJvYXJkLmNvbS9hdXRoJztcblxuZXhwb3J0IGNvbnN0IGdldE9hdXRoVG9rZW5VcmwgPSAoY29kZTogc3RyaW5nKTogc3RyaW5nID0+XG5cdGAke09BVVRIfS90b2tlbj9jb2RlPSR7Y29kZX0mZ3JhbnRfdHlwZT1hdXRob3JpemF0aW9uX2NvZGUmY2xpZW50X2lkPSR7RlRfVUlEfSZjbGllbnRfc2VjcmV0PSR7RlRfU0VDUkVUfSZyZWRpcmVjdF91cmk9JHtGUk9OVF9VUkx9JHtBVVRIfWA7XG5cbmV4cG9ydCBjb25zdCBnb29nbGVPYXV0aCA9IGBodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aD9jbGllbnRfaWQ9JHtHT09HTEVfQ0lEfSZyZWRpcmVjdF91cmk9JHtSRURJUl9VUkl9JnJlc3BvbnNlX3R5cGU9Y29kZSZzY29wZT1odHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJmFwcHJvdmFsX3Byb21wdD1mb3JjZSZhY2Nlc3NfdHlwZT1vZmZsaW5lYDtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGZldGNoZXIgPSAodXJsOiBzdHJpbmcpID0+IGF4aW9zLmdldCh1cmwsIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5kYXRhKTtcblxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIEZvcm1hdCA9IHtcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWwuYXNzaWduKFxuICAgIHtcbiAgICAgICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICAgICAgZm9ybWF0dGVyczoge1xuICAgICAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBGb3JtYXRcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3N0cmluZ2lmeScpO1xudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0czogZm9ybWF0cyxcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYXJyYXlMaW1pdDogMjAsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGNvbW1hOiBmYWxzZSxcbiAgICBkZWNvZGVyOiB1dGlscy5kZWNvZGUsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZGVwdGg6IDUsXG4gICAgaWdub3JlUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogZmFsc2UsXG4gICAgcGFyYW1ldGVyTGltaXQ6IDEwMDAsXG4gICAgcGFyc2VBcnJheXM6IHRydWUsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiMoXFxkKyk7L2csIGZ1bmN0aW9uICgkMCwgbnVtYmVyU3RyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG51bWJlclN0ciwgMTApKTtcbiAgICB9KTtcbn07XG5cbnZhciBwYXJzZUFycmF5VmFsdWUgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmNvbW1hICYmIHZhbC5pbmRleE9mKCcsJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdmFsLnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbn07XG5cbi8vIFRoaXMgaXMgd2hhdCBicm93c2VycyB3aWxsIHN1Ym1pdCB3aGVuIHRoZSDinJMgY2hhcmFjdGVyIG9jY3VycyBpbiBhblxuLy8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGJvZHkgYW5kIHRoZSBlbmNvZGluZyBvZiB0aGUgcGFnZSBjb250YWluaW5nXG4vLyB0aGUgZm9ybSBpcyBpc28tODg1OS0xLCBvciB3aGVuIHRoZSBzdWJtaXR0ZWQgZm9ybSBoYXMgYW4gYWNjZXB0LWNoYXJzZXRcbi8vIGF0dHJpYnV0ZSBvZiBpc28tODg1OS0xLiBQcmVzdW1hYmx5IGFsc28gd2l0aCBvdGhlciBjaGFyc2V0cyB0aGF0IGRvIG5vdCBjb250YWluXG4vLyB0aGUg4pyTIGNoYXJhY3Rlciwgc3VjaCBhcyB1cy1hc2NpaS5cbnZhciBpc29TZW50aW5lbCA9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpXG5cbi8vIFRoZXNlIGFyZSB0aGUgcGVyY2VudC1lbmNvZGVkIHV0Zi04IG9jdGV0cyByZXByZXNlbnRpbmcgYSBjaGVja21hcmssIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCBhY3R1YWxseSBpcyB1dGYtOCBlbmNvZGVkLlxudmFyIGNoYXJzZXRTZW50aW5lbCA9ICd1dGY4PSVFMiU5QyU5Myc7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcblxudmFyIHBhcnNlVmFsdWVzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ1ZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGNsZWFuU3RyID0gb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA/IHN0ci5yZXBsYWNlKC9eXFw/LywgJycpIDogc3RyO1xuICAgIHZhciBsaW1pdCA9IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDtcbiAgICB2YXIgcGFydHMgPSBjbGVhblN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgbGltaXQpO1xuICAgIHZhciBza2lwSW5kZXggPSAtMTsgLy8gS2VlcCB0cmFjayBvZiB3aGVyZSB0aGUgdXRmOCBzZW50aW5lbCB3YXMgZm91bmRcbiAgICB2YXIgaTtcblxuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0O1xuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXS5pbmRleE9mKCd1dGY4PScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSBjaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICd1dGYtOCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXSA9PT0gaXNvU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICdpc28tODg1OS0xJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpID0gcGFydHMubGVuZ3RoOyAvLyBUaGUgZXNsaW50IHNldHRpbmdzIGRvIG5vdCBhbGxvdyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gc2tpcEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIHZhciBicmFja2V0RXF1YWxzUG9zID0gcGFydC5pbmRleE9mKCddPScpO1xuICAgICAgICB2YXIgcG9zID0gYnJhY2tldEVxdWFsc1BvcyA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IGJyYWNrZXRFcXVhbHNQb3MgKyAxO1xuXG4gICAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA/IG51bGwgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKDAsIHBvcyksIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IHV0aWxzLm1heWJlTWFwKFxuICAgICAgICAgICAgICAgIHBhcnNlQXJyYXlWYWx1ZShwYXJ0LnNsaWNlKHBvcyArIDEpLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZW5jb2RlZFZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kZWNvZGVyKGVuY29kZWRWYWwsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC5pbmRleE9mKCdbXT0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YWwgPSBpc0FycmF5KHZhbCkgPyBbdmFsXSA6IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdXRpbHMuY29tYmluZShvYmpba2V5XSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZU9iamVjdCA9IGZ1bmN0aW9uIChjaGFpbiwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICB2YXIgbGVhZiA9IHZhbHVlc1BhcnNlZCA/IHZhbCA6IHBhcnNlQXJyYXlWYWx1ZSh2YWwsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIHZhciByb290ID0gY2hhaW5baV07XG5cbiAgICAgICAgaWYgKHJvb3QgPT09ICdbXScgJiYgb3B0aW9ucy5wYXJzZUFycmF5cykge1xuICAgICAgICAgICAgb2JqID0gW10uY29uY2F0KGxlYWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgICAgICAgICB2YXIgY2xlYW5Sb290ID0gcm9vdC5jaGFyQXQoMCkgPT09ICdbJyAmJiByb290LmNoYXJBdChyb290Lmxlbmd0aCAtIDEpID09PSAnXScgPyByb290LnNsaWNlKDEsIC0xKSA6IHJvb3Q7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChjbGVhblJvb3QsIDEwKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wYXJzZUFycmF5cyAmJiBjbGVhblJvb3QgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0geyAwOiBsZWFmIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICFpc05hTihpbmRleClcbiAgICAgICAgICAgICAgICAmJiByb290ICE9PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBTdHJpbmcoaW5kZXgpID09PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBpbmRleCA+PSAwXG4gICAgICAgICAgICAgICAgJiYgKG9wdGlvbnMucGFyc2VBcnJheXMgJiYgaW5kZXggPD0gb3B0aW9ucy5hcnJheUxpbWl0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gW107XG4gICAgICAgICAgICAgICAgb2JqW2luZGV4XSA9IGxlYWY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtjbGVhblJvb3RdID0gbGVhZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxlYWYgPSBvYmo7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gb3B0aW9ucy5kZXB0aCA+IDAgJiYgYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKG9wdGlvbnMuZGVwdGggPiAwICYmIChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZWNvZGVyICE9PSBudWxsICYmIG9wdHMuZGVjb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmRlY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHZhciBjaGFyc2V0ID0gdHlwZW9mIG9wdHMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5jaGFyc2V0IDogb3B0cy5jaGFyc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgYWxsb3dQcm90b3R5cGVzOiB0eXBlb2Ygb3B0cy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzLFxuICAgICAgICBhcnJheUxpbWl0OiB0eXBlb2Ygb3B0cy5hcnJheUxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMuYXJyYXlMaW1pdCA6IGRlZmF1bHRzLmFycmF5TGltaXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWE6IHR5cGVvZiBvcHRzLmNvbW1hID09PSAnYm9vbGVhbicgPyBvcHRzLmNvbW1hIDogZGVmYXVsdHMuY29tbWEsXG4gICAgICAgIGRlY29kZXI6IHR5cGVvZiBvcHRzLmRlY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRlY29kZXIgOiBkZWZhdWx0cy5kZWNvZGVyLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3N0cmluZycgfHwgdXRpbHMuaXNSZWdFeHAob3B0cy5kZWxpbWl0ZXIpID8gb3B0cy5kZWxpbWl0ZXIgOiBkZWZhdWx0cy5kZWxpbWl0ZXIsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvbiwgbm8tZXh0cmEtcGFyZW5zXG4gICAgICAgIGRlcHRoOiAodHlwZW9mIG9wdHMuZGVwdGggPT09ICdudW1iZXInIHx8IG9wdHMuZGVwdGggPT09IGZhbHNlKSA/ICtvcHRzLmRlcHRoIDogZGVmYXVsdHMuZGVwdGgsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBvcHRzLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlLFxuICAgICAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IHR5cGVvZiBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgOiBkZWZhdWx0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMsXG4gICAgICAgIHBhcmFtZXRlckxpbWl0OiB0eXBlb2Ygb3B0cy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQsXG4gICAgICAgIHBhcnNlQXJyYXlzOiBvcHRzLnBhcnNlQXJyYXlzICE9PSBmYWxzZSxcbiAgICAgICAgcGxhaW5PYmplY3RzOiB0eXBlb2Ygb3B0cy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdHMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cyk7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zLCB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXJyYXlQcmVmaXhHZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzOiBmdW5jdGlvbiBicmFja2V0cyhwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbXSc7XG4gICAgfSxcbiAgICBjb21tYTogJ2NvbW1hJyxcbiAgICBpbmRpY2VzOiBmdW5jdGlvbiBpbmRpY2VzKHByZWZpeCwga2V5KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQ6IGZ1bmN0aW9uIHJlcGVhdChwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShcbiAgICBvYmplY3QsXG4gICAgcHJlZml4LFxuICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIHNraXBOdWxscyxcbiAgICBlbmNvZGVyLFxuICAgIGZpbHRlcixcbiAgICBzb3J0LFxuICAgIGFsbG93RG90cyxcbiAgICBzZXJpYWxpemVEYXRlLFxuICAgIGZvcm1hdHRlcixcbiAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgIGNoYXJzZXRcbikge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZShvYmopO1xuICAgIH0gZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc0FycmF5KG9iaikpIHtcbiAgICAgICAgb2JqID0gdXRpbHMubWF5YmVNYXAob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID8gZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknKSA6IHByZWZpeDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cblxuICAgIGlmIChpc05vbk51bGxpc2hQcmltaXRpdmUob2JqKSB8fCB1dGlscy5pc0J1ZmZlcihvYmopKSB7XG4gICAgICAgIGlmIChlbmNvZGVyKSB7XG4gICAgICAgICAgICB2YXIga2V5VmFsdWUgPSBlbmNvZGVWYWx1ZXNPbmx5ID8gcHJlZml4IDogZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHJldHVybiBbZm9ybWF0dGVyKGtleVZhbHVlKSArICc9JyArIGZvcm1hdHRlcihlbmNvZGVyKG9iaiwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJykpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyKFN0cmluZyhvYmopKV07XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIG9iaktleXM7XG4gICAgaWYgKGlzQXJyYXkoZmlsdGVyKSkge1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgb2JqS2V5cyA9IHNvcnQgPyBrZXlzLnNvcnQoc29ydCkgOiBrZXlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5UHJlZml4ID0gaXNBcnJheShvYmopXG4gICAgICAgICAgICA/IHR5cGVvZiBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnZnVuY3Rpb24nID8gZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSkgOiBwcmVmaXhcbiAgICAgICAgICAgIDogcHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGtleSA6ICdbJyArIGtleSArICddJyk7XG5cbiAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGtleVByZWZpeCxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgb3B0cy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXR0ZXI6IGZvcm1hdHRlcixcbiAgICAgICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAgICAgc29ydDogdHlwZW9mIG9wdHMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc29ydCA6IG51bGwsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZ1xuICAgIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKTtcblxuICAgIHZhciBvYmpLZXlzO1xuICAgIHZhciBmaWx0ZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRzICYmIG9wdHMuYXJyYXlGb3JtYXQgaW4gYXJyYXlQcmVmaXhHZW5lcmF0b3JzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5hcnJheUZvcm1hdDtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgJ2luZGljZXMnIGluIG9wdHMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9ICdpbmRpY2VzJztcbiAgICB9XG5cbiAgICB2YXIgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5UHJlZml4R2VuZXJhdG9yc1thcnJheUZvcm1hdF07XG5cbiAgICBpZiAoIW9iaktleXMpIHtcbiAgICAgICAgb2JqS2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoVG9BcnJheShrZXlzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0dGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgb3B0aW9ucy5jaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHZhciBqb2luZWQgPSBrZXlzLmpvaW4ob3B0aW9ucy5kZWxpbWl0ZXIpO1xuICAgIHZhciBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG5cbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGhleFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufSgpKTtcblxudmFyIGNvbXBhY3RRdWV1ZSA9IGZ1bmN0aW9uIGNvbXBhY3RRdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHZhciBjb21wYWN0ZWQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0ub2JqW2l0ZW0ucHJvcF0gPSBjb21wYWN0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIGFycmF5VG9PYmplY3Qoc291cmNlLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAvKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IDAgKi9cbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8ICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBbdGFyZ2V0XS5jb25jYXQoc291cmNlKTtcbiAgICB9XG5cbiAgICB2YXIgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiAhaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlUb09iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJdGVtID0gdGFyZ2V0W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJdGVtICYmIHR5cGVvZiB0YXJnZXRJdGVtID09PSAnb2JqZWN0JyAmJiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBtZXJnZSh0YXJnZXRJdGVtLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW2tleV07XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBtZXJnZShhY2Nba2V5XSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG1lcmdlVGFyZ2V0KTtcbn07XG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ25TaW5nbGVTb3VyY2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn07XG5cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3RyLCBkZWNvZGVyLCBjaGFyc2V0KSB7XG4gICAgdmFyIHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cztcbiAgICB9XG59O1xuXG52YXIgZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKHN0ciwgZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICkge1xuICAgICAgICAgICAgb3V0ICs9IHN0cmluZy5jaGFyQXQoaSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgaGV4VGFibGVbY107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEMwIHwgKGMgPj4gNildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweEQ4MDAgfHwgYyA+PSAweEUwMDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEUwIHwgKGMgPj4gMTIpXSArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpICs9IDE7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M0ZGKSA8PCAxMCkgfCAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgJiAweDNGRikpO1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbnZhciBtYXliZU1hcCA9IGZ1bmN0aW9uIG1heWJlTWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtYXliZU1hcDogbWF5YmVNYXAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==