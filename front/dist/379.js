(self.webpackChunk_42board_front=self.webpackChunk_42board_front||[]).push([[379],{2033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(7294),n=r(5366);const i=r(9911).F4`
	from {
		transform: rotate(0);
	}
	to {
		transform: rotate(359deg);
	}
`,a=(0,n.Z)("div",{target:"ekojj7n2",label:"LoadingCircleContainer"})({name:"8lbyj9",styles:"width:300px;height:300px;display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),l=(0,n.Z)("div",{target:"ekojj7n1",label:"LoadingCircleBox"})("width:150px;height:150px;padding:3px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:rgb(63, 249, 200);background:linear-gradient(0deg, rgba(63, 249, 200, 0.1) 33%, rgba(63, 249, 220, 1) 100%);animation:",i," .8s linear 0s infinite;"),c=(0,n.Z)("div",{target:"ekojj7n0",label:"LoadingCircleCore"})({name:"1sudnkc",styles:"width:100%;height:100%;background:#001c29;border-radius:50%"}),s=()=>o.createElement(a,null,o.createElement(l,null,o.createElement(c,null)))},9379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(7294),n=r(8100),i=r(129),a=r.n(i),l=r(3564),c=r(5366);const s=r(9911).F4`
	from {
		transform: translate(-50%, -30%);
		opacity: 0;
	}
	to {
		transform: translate(-50%, -50%);
		opacity: 1;
	}
`,u=(0,c.Z)("div",{target:"eoptdla1",label:"LoginContainer"})("background:rgba(0, 0, 0, .3);padding:1rem;width:fit-content;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);animation:",s," .5s ease-in-out 1;color:#fff;&>h1{text-align:center;margin-bottom:1rem;}&>p{color:#ff7777;font-size:10px;margin-top:.5rem;text-align:center;}"),f=(0,c.Z)("a",{target:"eoptdla0",label:"LoginButton"})({name:"lvc5fg",styles:"position:relative;display:flex;margin:0 auto;width:fit-content;img{height:40px;}"});var p=r(3653),d=r.n(p),y=r(5977),m=r(2033);const h=()=>{const{data:e,revalidate:t}=(0,n.ZP)("/api/auth",l.Z),r=a().parse(location.search,{ignoreQueryPrefix:!0});return location.search&&!1===e&&!e&&r.code?(console.log(r.code),d().post("/api/auth",{codeValue:r.code,trashValue:"123"},{withCredentials:!0}).then((e=>(t(),e.data))).catch((e=>{console.error(e),location.href="/auth?error=codeValue"})),o.createElement(m.Z,null)):e?r.prev?o.createElement(y.l_,{to:""+r.prev}):o.createElement(y.l_,{to:"/main"}):o.createElement(u,null,o.createElement("h1",null,"BOXLOT"),o.createElement(f,{href:"https://accounts.google.com/o/oauth2/auth?client_id=&redirect_uri=http://localhost:3090/auth&response_type=code&scope=https://www.googleapis.com/auth/userinfo.email&approval_prompt=force&access_type=offline",className:"google"},o.createElement("img",{src:"/public/btn_google_signin_light_normal_web@2x.png"})),r?.error&&o.createElement("p",null,"42API에서 전송한 코드 값 문제가 발생했습니다."))}},3564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(3653),n=r.n(o);const i=e=>n().get(e,{withCredentials:!0}).then((e=>e.data))},5798:(e,t,r)=>{"use strict";var o=String.prototype.replace,n=/%20/g,i=r(2769),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}}},a)},129:(e,t,r)=>{"use strict";var o=r(8261),n=r(5235),i=r(5798);e.exports={formats:i,parse:n,stringify:o}},5235:(e,t,r)=>{"use strict";var o=r(2769),n=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=l?i.slice(0,l.index):i,u=[];if(s){if(!r.plainObjects&&n.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var f=0;r.depth>0&&null!==(l=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),function(e,t,r,o){for(var n=o?t:c(t,r),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&l!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=n:a[s]=n:a={0:n}}n=a}return n}(u,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,f),d=-1,y=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?y="utf-8":"utf8=%26%2310003%3B"===p[r]&&(y="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var m,h,g=p[r],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(m=t.decoder(g,a.decoder,y,"key"),h=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,v),a.decoder,y,"key"),h=o.maybeMap(c(g.slice(v+1),t),(function(e){return t.decoder(e,a.decoder,y,"value")}))),h&&t.interpretNumericEntities&&"iso-8859-1"===y&&(h=l(h)),g.indexOf("[]=")>-1&&(h=i(h)?[h]:h),n.call(s,m)?s[m]=o.combine(s[m],h):s[m]=h}return s}(e,r):e,f=r.plainObjects?Object.create(null):{},p=Object.keys(u),d=0;d<p.length;++d){var y=p[d],m=s(y,u[y],r,"string"==typeof e);f=o.merge(f,m,r)}return o.compact(f)}},8261:(e,t,r)=>{"use strict";var o=r(2769),n=r(5798),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,l(t)?t:[t])},u=Date.prototype.toISOString,f=n.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,n,i,a,c,u,f,d,y,m,h,g){var b,v=t;if("function"==typeof u?v=u(r,v):v instanceof Date?v=y(v):"comma"===n&&l(v)&&(v=o.maybeMap(v,(function(e){return e instanceof Date?y(e):e})).join(",")),null===v){if(i)return c&&!h?c(r,p.encoder,g,"key"):r;v=""}if("string"==typeof(b=v)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||o.isBuffer(v))return c?[m(h?r:c(r,p.encoder,g,"key"))+"="+m(c(v,p.encoder,g,"value"))]:[m(r)+"="+m(String(v))];var j,O=[];if(void 0===v)return O;if(l(u))j=u;else{var w=Object.keys(v);j=f?w.sort(f):w}for(var x=0;x<j.length;++x){var k=j[x],E=v[k];if(!a||null!==E){var N=l(v)?"function"==typeof n?n(r,k):r:r+(d?"."+k:"["+k+"]");s(O,e(E,N,n,i,a,c,u,f,d,y,m,h,g))}}return O};e.exports=function(e,t){var r,o=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==e.format){if(!i.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var o=n.formatters[r],a=p.filter;return("function"==typeof e.filter||l(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(r=c.filter);var u,f=[];if("object"!=typeof o||null===o)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var y=a[u];r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var h=r[m];c.skipNulls&&null===o[h]||s(f,d(o[h],h,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},2769:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:n,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],o=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var s=l[c],u=a[s];"object"==typeof u&&null!==u&&-1===o.indexOf(u)&&(t.push({obj:a,prop:s}),o.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),o=t.obj[t.prop];if(r(o)){for(var n=[],i=0;i<o.length;++i)void 0!==o[i]&&n.push(o[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<n.length;++a){var l=n.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?i+=n.charAt(a):l<128?i+=o[l]:l<2048?i+=o[192|l>>6]+o[128|63&l]:l<55296||l>=57344?i+=o[224|l>>12]+o[128|l>>6&63]+o[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&n.charCodeAt(a)),i+=o[240|l>>18]+o[128|l>>12&63]+o[128|l>>6&63]+o[128|63&l])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var o=[],n=0;n<e.length;n+=1)o.push(t(e[n]));return o}return t(e)},merge:function e(o,i,a){if(!i)return o;if("object"!=typeof i){if(r(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(a&&(a.plainObjects||a.allowPrototypes)||!t.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var l=o;return r(o)&&!r(i)&&(l=n(o,a)),r(o)&&r(i)?(i.forEach((function(r,n){if(t.call(o,n)){var i=o[n];i&&"object"==typeof i&&r&&"object"==typeof r?o[n]=e(i,r,a):o.push(r)}else o[n]=r})),o):Object.keys(i).reduce((function(r,o){var n=i[o];return t.call(r,o)?r[o]=e(r[o],n,a):r[o]=n,r}),l)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL3N0eWxlLnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vcGFnZXMvQXV0aC9zdHlsZXMudHN4Iiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9wYWdlcy9BdXRoL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vdXRpbHMvZmV0Y2hlci50cyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi9mb3JtYXRzLmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyJdLCJuYW1lcyI6WyJzcGluIiwia2V5ZnJhbWVzIiwiTG9hZGluZ0NpcmNsZUNvbnRhaW5lciIsIkxvYWRpbmdDaXJjbGVCb3giLCJMb2FkaW5nQ2lyY2xlQ29yZSIsImFwcGVhclVwIiwiTG9naW5Db250YWluZXIiLCJMb2dpbkJ1dHRvbiIsImRhdGEiLCJ1c2VyRGF0YSIsInJldmFsaWRhdGUiLCJ1c2VTV1IiLCJmZXRjaGVyIiwicXVlcnkiLCJxcyIsImxvY2F0aW9uIiwic2VhcmNoIiwiaWdub3JlUXVlcnlQcmVmaXgiLCJjb2RlIiwiY29uc29sZSIsImxvZyIsImF4aW9zIiwiY29kZVZhbHVlIiwidHJhc2hWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInRoZW4iLCJyZXMiLCJjYXRjaCIsImUiLCJlcnJvciIsImhyZWYiLCJMb2FkaW5nQ2lyY2xlIiwicHJldiIsInRvIiwiY2xhc3NOYW1lIiwic3JjIiwidXJsIiwicmVzcG9uc2UiLCJyZXBsYWNlIiwiU3RyaW5nIiwicHJvdG90eXBlIiwicGVyY2VudFR3ZW50aWVzIiwidXRpbCIsIkZvcm1hdCIsIlJGQzE3MzgiLCJSRkMzOTg2IiwibW9kdWxlIiwiZXhwb3J0cyIsImFzc2lnbiIsImZvcm1hdHRlcnMiLCJ2YWx1ZSIsImNhbGwiLCJzdHJpbmdpZnkiLCJwYXJzZSIsImZvcm1hdHMiLCJ1dGlscyIsImhhcyIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiaXNBcnJheSIsIkFycmF5IiwiZGVmYXVsdHMiLCJhbGxvd0RvdHMiLCJhbGxvd1Byb3RvdHlwZXMiLCJhcnJheUxpbWl0IiwiY2hhcnNldCIsImNoYXJzZXRTZW50aW5lbCIsImNvbW1hIiwiZGVjb2RlciIsImRlY29kZSIsImRlbGltaXRlciIsImRlcHRoIiwiaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIiwicGFyYW1ldGVyTGltaXQiLCJwYXJzZUFycmF5cyIsInBsYWluT2JqZWN0cyIsInN0cmljdE51bGxIYW5kbGluZyIsInN0ciIsIiQwIiwibnVtYmVyU3RyIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJwYXJzZUFycmF5VmFsdWUiLCJ2YWwiLCJvcHRpb25zIiwiaW5kZXhPZiIsInNwbGl0IiwicGFyc2VLZXlzIiwiZ2l2ZW5LZXkiLCJ2YWx1ZXNQYXJzZWQiLCJrZXkiLCJjaGlsZCIsInNlZ21lbnQiLCJleGVjIiwicGFyZW50Iiwic2xpY2UiLCJpbmRleCIsImtleXMiLCJwdXNoIiwiaSIsImNoYWluIiwibGVhZiIsImxlbmd0aCIsIm9iaiIsInJvb3QiLCJjb25jYXQiLCJjcmVhdGUiLCJjbGVhblJvb3QiLCJjaGFyQXQiLCJpc05hTiIsIjAiLCJwYXJzZU9iamVjdCIsIm9wdHMiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJpc1JlZ0V4cCIsIm5vcm1hbGl6ZVBhcnNlT3B0aW9ucyIsInRlbXBPYmoiLCJjbGVhblN0ciIsImxpbWl0IiwiSW5maW5pdHkiLCJwYXJ0cyIsInNraXBJbmRleCIsInBhcnQiLCJicmFja2V0RXF1YWxzUG9zIiwicG9zIiwibWF5YmVNYXAiLCJlbmNvZGVkVmFsIiwiY29tYmluZSIsInBhcnNlVmFsdWVzIiwibmV3T2JqIiwibWVyZ2UiLCJjb21wYWN0IiwiYXJyYXlQcmVmaXhHZW5lcmF0b3JzIiwiYnJhY2tldHMiLCJwcmVmaXgiLCJpbmRpY2VzIiwicmVwZWF0IiwicHVzaFRvQXJyYXkiLCJhcnIiLCJ2YWx1ZU9yQXJyYXkiLCJhcHBseSIsInRvSVNPIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGVmYXVsdEZvcm1hdCIsImFkZFF1ZXJ5UHJlZml4IiwiZW5jb2RlIiwiZW5jb2RlciIsImVuY29kZVZhbHVlc09ubHkiLCJmb3JtYXQiLCJmb3JtYXR0ZXIiLCJzZXJpYWxpemVEYXRlIiwiZGF0ZSIsInNraXBOdWxscyIsIm9iamVjdCIsImdlbmVyYXRlQXJyYXlQcmVmaXgiLCJmaWx0ZXIiLCJzb3J0IiwidiIsImpvaW4iLCJpc0J1ZmZlciIsIm9iaktleXMiLCJ2YWx1ZXMiLCJrZXlQcmVmaXgiLCJub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zIiwiYXJyYXlGb3JtYXQiLCJqb2luZWQiLCJoZXhUYWJsZSIsImFycmF5IiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImFycmF5VG9PYmplY3QiLCJzb3VyY2UiLCJ0YXJnZXQiLCJyZWR1Y2UiLCJhY2MiLCJhIiwiYiIsInF1ZXVlIiwibyIsInByb3AiLCJyZWZzIiwiaXRlbSIsImoiLCJwb3AiLCJjb21wYWN0ZWQiLCJjb21wYWN0UXVldWUiLCJzdHJXaXRob3V0UGx1cyIsInVuZXNjYXBlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZGVmYXVsdEVuY29kZXIiLCJzdHJpbmciLCJTeW1ib2wiLCJlc2NhcGUiLCJvdXQiLCJjIiwiY2hhckNvZGVBdCIsImNvbnN0cnVjdG9yIiwiZm4iLCJtYXBwZWQiLCJtZXJnZVRhcmdldCIsImZvckVhY2giLCJ0YXJnZXRJdGVtIl0sIm1hcHBpbmdzIjoid0pBR0EsTUFBTUEsRSxRQUFPQyxFQUFVOzs7Ozs7O0VBU1ZDLEdBQXlCLGNBQUgsa0RBQUcsQ0FBSCw2S0FZdEJDLEdBQW1CLGNBQUgsNENBQUcsQ0FBSCxrUEFVZkgsRUFWZSw0QkFhaEJJLEdBQW9CLGNBQUgsNkNBQUcsQ0FBSCx1RkN4QjlCLEVBVnlCLElBRXZCLGdCQUFDRixFQUFELEtBQ0MsZ0JBQUNDLEVBQUQsS0FDQyxnQkFBQ0MsRUFBRCxTLHdIQ0pKLE1BQU1DLEUsUUFBV0osRUFBVTs7Ozs7Ozs7O0VBV2RLLEdBQWlCLGNBQUgsMENBQUcsQ0FBSCw0SUFRYkQsRUFSYSxrSkF3QmRFLEdBQWMsWUFBSCx1Q0FBRyxDQUFILDJHLDJDQzVCeEIsTUE4Q0EsRUE5Q2dCLEtBQ2YsTUFDUUMsS0FBS0MsRUFBUCxXQUFpQkMsSUFBZUMsUUFBTyxZQUFhQyxLQUNwREMsRUFBUUMsVUFBU0MsU0FBU0MsT0FBUSxDQUN2Q0MsbUJBQW1CLElBR3BCLE9BQUlGLFNBQVNDLFNBQXVCLElBQWJQLElBRWpCQSxHQUFZSSxFQUFNSyxNQUV0QkMsUUFBUUMsSUFBSVAsRUFBTUssTUFDbEJHLFNBQVksWUFBWSxDQUN0QkMsVUFBV1QsRUFBTUssS0FDakJLLFdBQVksT0FDWCxDQUNGQyxpQkFBaUIsSUFDZkMsTUFBS0MsSUFDUGhCLElBQ09nQixFQUFJbEIsUUFDVG1CLE9BQU1DLElBQ1JULFFBQVFVLE1BQU1ELEdBQ2RiLFNBQVNlLEtBQU8sMkJBRVYsZ0JBQUNDLEVBQUEsRUFBRCxPQUlMdEIsRUFDQ0ksRUFBTW1CLEtBQ0YsZ0JBQUMsS0FBRCxDQUFVQyxHQUFLLEdBQUVwQixFQUFNbUIsT0FFdkIsZ0JBQUMsS0FBRCxDQUFVQyxHQUFHLFVBSXJCLGdCQUFDM0IsRUFBRCxLQUNDLG9DQUNBLGdCQUFDQyxFQUFELENBQWF1QixLQXJDVSxpTkFxQ01JLFVBQVUsVUFDdEMs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eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuXG5jb25zdCBzcGluID0ga2V5ZnJhbWVzYFxuXHRmcm9tIHtcblx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcblx0fVxuXHR0byB7XG5cdFx0dHJhbnNmb3JtOiByb3RhdGUoMzU5ZGVnKTtcblx0fVxuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMzAwcHg7XG5cdGhlaWdodDogMzAwcHg7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogNTAlO1xuXHRsZWZ0OiA1MCU7XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVCb3ggPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMTUwcHg7XG5cdGhlaWdodDogMTUwcHg7XG5cdHBhZGRpbmc6IDNweDtcblx0ZGlzcGxheTogZmxleDtcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdGJvcmRlci1yYWRpdXM6IDUwJTtcblx0YmFja2dyb3VuZDogcmdiKDYzLCAyNDksIDIwMCk7XG5cdGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKDYzLCAyNDksIDIwMCwgMC4xKSAzMyUsIHJnYmEoNjMsIDI0OSwgMjIwLCAxKSAxMDAlKTtcblx0YW5pbWF0aW9uOiAke3NwaW59IC44cyBsaW5lYXIgMHMgaW5maW5pdGU7XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUNvcmUgPSBzdHlsZWQuZGl2YFxuXHR3aWR0aDogMTAwJTtcblx0aGVpZ2h0OiAxMDAlO1xuXHRiYWNrZ3JvdW5kOiAjMDAxYzI5O1xuXHRib3JkZXItcmFkaXVzOiA1MCU7XG5gO1xuXG5cbiIsImltcG9ydCBSZWFjdCwge0ZDfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xvYWRpbmdDaXJjbGVDb250YWluZXIsIExvYWRpbmdDaXJjbGVCb3gsIExvYWRpbmdDaXJjbGVDb3JlfSBmcm9tICcuL3N0eWxlJztcblxuY29uc3QgTG9hZGluZ0NpcmNsZTpGQyA9ICgpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8TG9hZGluZ0NpcmNsZUNvbnRhaW5lcj5cblx0XHRcdDxMb2FkaW5nQ2lyY2xlQm94PlxuXHRcdFx0XHQ8TG9hZGluZ0NpcmNsZUNvcmU+PC9Mb2FkaW5nQ2lyY2xlQ29yZT5cblx0XHRcdDwvTG9hZGluZ0NpcmNsZUJveD5cblx0XHQ8L0xvYWRpbmdDaXJjbGVDb250YWluZXI+XG5cdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvYWRpbmdDaXJjbGU7XG4iLCJpbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBrZXlmcmFtZXMgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmNvbnN0IGFwcGVhclVwID0ga2V5ZnJhbWVzYFxuXHRmcm9tIHtcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtMzAlKTtcblx0XHRvcGFjaXR5OiAwO1xuXHR9XG5cdHRvIHtcblx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcblx0XHRvcGFjaXR5OiAxO1xuXHR9XG5gO1xuXG5leHBvcnQgY29uc3QgTG9naW5Db250YWluZXIgPSBzdHlsZWQuZGl2YFxuXHRiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4zKTtcblx0cGFkZGluZzogMXJlbTtcblx0d2lkdGg6IGZpdC1jb250ZW50O1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogNTAlO1xuXHRsZWZ0OiA1MCU7XG5cdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuXHRhbmltYXRpb246ICR7YXBwZWFyVXB9IC41cyBlYXNlLWluLW91dCAxO1xuXHRjb2xvcjogI2ZmZjtcblxuXHQmID4gaDEge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRtYXJnaW4tYm90dG9tOiAxcmVtO1xuXHR9XG5cblx0JiA+IHAge1xuXHRcdGNvbG9yOiAjZmY3Nzc3O1xuXHRcdGZvbnQtc2l6ZTogMTBweDtcblx0XHRtYXJnaW4tdG9wOiAuNXJlbTtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdH1cbmA7XG5cbmV4cG9ydCBjb25zdCBMb2dpbkJ1dHRvbiA9IHN0eWxlZC5hYFxuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdGRpc3BsYXk6IGZsZXg7XG5cdG1hcmdpbjogMCBhdXRvO1xuXHR3aWR0aDogZml0LWNvbnRlbnQ7XG5cblx0aW1nIHtcblx0XHRoZWlnaHQ6IDQwcHg7XG5cdH1cbmBcbiIsImltcG9ydCBSZWFjdCwge0ZDfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlU1dSIGZyb20gJ3N3cic7XG5pbXBvcnQgcXMgZnJvbSAncXMnO1xuaW1wb3J0IGZldGNoZXIgZnJvbSAnQHV0aWxzL2ZldGNoZXInO1xuaW1wb3J0IHsgTG9naW5Db250YWluZXIsIExvZ2luQnV0dG9uIH0gZnJvbSAnQHBhZ2VzL0F1dGgvc3R5bGVzJztcbmltcG9ydCB7IEdPT0dMRV9DSUQgfSBmcm9tICdAY29uZmlnL2NvbmZpZyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBMb2FkaW5nQ2lyY2xlIGZyb20gJ0Bjb21wb25lbnRzL0xvYWRpbmdDaXJjbGUnO1xuXG5jb25zdCBBdXRoOkZDID0gKCkgPT4ge1xuXHRjb25zdCBPQXV0aFVSTDpzdHJpbmcgPSBgaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGg/Y2xpZW50X2lkPSR7R09PR0xFX0NJRH0mcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3Q6MzA5MC9hdXRoJnJlc3BvbnNlX3R5cGU9Y29kZSZzY29wZT1odHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJmFwcHJvdmFsX3Byb21wdD1mb3JjZSZhY2Nlc3NfdHlwZT1vZmZsaW5lYFxuXHRjb25zdCB7IGRhdGE6dXNlckRhdGEsIHJldmFsaWRhdGUgfSA9IHVzZVNXUignL2FwaS9hdXRoJywgZmV0Y2hlcik7XG5cdGNvbnN0IHF1ZXJ5ID0gcXMucGFyc2UobG9jYXRpb24uc2VhcmNoLCB7XG5cdFx0aWdub3JlUXVlcnlQcmVmaXg6IHRydWUgLy8gL2Fib3V0P2RldGFpbHM9dHJ1ZSDqsJnsnYAg7L+866asIOyjvOyGjOydmCAnPyfrpbwg7IOd65617ZW07KO864qUIOyYteyFmOyeheuLiOuLpC5cblx0fSk7XG5cblx0aWYgKGxvY2F0aW9uLnNlYXJjaCAmJiB1c2VyRGF0YSA9PT0gZmFsc2UpXG5cdHtcblx0XHRpZiAoIXVzZXJEYXRhICYmIHF1ZXJ5LmNvZGUpXG5cdFx0e1xuXHRcdFx0Y29uc29sZS5sb2cocXVlcnkuY29kZSk7XG5cdFx0XHRheGlvcy5wb3N0KGAvYXBpL2F1dGhgLCB7XG5cdFx0XHRcdFx0Y29kZVZhbHVlOiBxdWVyeS5jb2RlLFxuXHRcdFx0XHRcdHRyYXNoVmFsdWU6ICcxMjMnLFxuXHRcdFx0fSwge1xuXHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWVcblx0XHRcdH0pLnRoZW4ocmVzID0+IHtcblx0XHRcdFx0cmV2YWxpZGF0ZSgpO1xuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XG5cdFx0XHR9KS5jYXRjaChlID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0bG9jYXRpb24uaHJlZiA9IFwiL2F1dGg/ZXJyb3I9Y29kZVZhbHVlXCI7XG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIDxMb2FkaW5nQ2lyY2xlIC8+XG5cdFx0fVxuXHR9XG5cblx0aWYgKHVzZXJEYXRhKSB7XG5cdFx0aWYgKHF1ZXJ5LnByZXYpXG5cdFx0XHRyZXR1cm4gPFJlZGlyZWN0IHRvPXtgJHtxdWVyeS5wcmV2fWB9IC8+XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIDxSZWRpcmVjdCB0bz1cIi9tYWluXCIgLz5cblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PExvZ2luQ29udGFpbmVyPlxuXHRcdFx0PGgxPkJPWExPVDwvaDE+XG5cdFx0XHQ8TG9naW5CdXR0b24gaHJlZj17T0F1dGhVUkx9IGNsYXNzTmFtZT1cImdvb2dsZVwiPlxuXHRcdFx0XHQ8aW1nIHNyYz1cIi9wdWJsaWMvYnRuX2dvb2dsZV9zaWduaW5fbGlnaHRfbm9ybWFsX3dlYkAyeC5wbmdcIiAvPlxuXHRcdFx0PC9Mb2dpbkJ1dHRvbj5cblx0XHRcdHsgcXVlcnk/LmVycm9yICYmIDxwPjQyQVBJ7JeQ7IScIOyghOyGoe2VnCDsvZTrk5wg6rCSIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuPC9wPn1cblx0XHQ8L0xvZ2luQ29udGFpbmVyPlxuXHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBdXRoO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgZmV0Y2hlciA9ICh1cmw6IHN0cmluZykgPT4gYXhpb3MuZ2V0KFxuXHR1cmwsXG5cdHtcblx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWVcblx0fVxuKS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuZGF0YSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xudmFyIHBlcmNlbnRUd2VudGllcyA9IC8lMjAvZztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBGb3JtYXQgPSB7XG4gICAgUkZDMTczODogJ1JGQzE3MzgnLFxuICAgIFJGQzM5ODY6ICdSRkMzOTg2J1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlsLmFzc2lnbihcbiAgICB7XG4gICAgICAgICdkZWZhdWx0JzogRm9ybWF0LlJGQzM5ODYsXG4gICAgICAgIGZvcm1hdHRlcnM6IHtcbiAgICAgICAgICAgIFJGQzE3Mzg6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlLmNhbGwodmFsdWUsIHBlcmNlbnRUd2VudGllcywgJysnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBSRkMzOTg2OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgRm9ybWF0XG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBjb21tYTogZmFsc2UsXG4gICAgZGVjb2RlcjogdXRpbHMuZGVjb2RlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IGZhbHNlLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHBhcnNlQXJyYXlzOiB0cnVlLFxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGludGVycHJldE51bWVyaWNFbnRpdGllcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYjKFxcZCspOy9nLCBmdW5jdGlvbiAoJDAsIG51bWJlclN0cikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChudW1iZXJTdHIsIDEwKSk7XG4gICAgfSk7XG59O1xuXG52YXIgcGFyc2VBcnJheVZhbHVlID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5jb21tYSAmJiB2YWwuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG59O1xuXG4vLyBUaGlzIGlzIHdoYXQgYnJvd3NlcnMgd2lsbCBzdWJtaXQgd2hlbiB0aGUg4pyTIGNoYXJhY3RlciBvY2N1cnMgaW4gYW5cbi8vIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBib2R5IGFuZCB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBhZ2UgY29udGFpbmluZ1xuLy8gdGhlIGZvcm0gaXMgaXNvLTg4NTktMSwgb3Igd2hlbiB0aGUgc3VibWl0dGVkIGZvcm0gaGFzIGFuIGFjY2VwdC1jaGFyc2V0XG4vLyBhdHRyaWJ1dGUgb2YgaXNvLTg4NTktMS4gUHJlc3VtYWJseSBhbHNvIHdpdGggb3RoZXIgY2hhcnNldHMgdGhhdCBkbyBub3QgY29udGFpblxuLy8gdGhlIOKckyBjaGFyYWN0ZXIsIHN1Y2ggYXMgdXMtYXNjaWkuXG52YXIgaXNvU2VudGluZWwgPSAndXRmOD0lMjYlMjMxMDAwMyUzQic7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKVxuXG4vLyBUaGVzZSBhcmUgdGhlIHBlcmNlbnQtZW5jb2RlZCB1dGYtOCBvY3RldHMgcmVwcmVzZW50aW5nIGEgY2hlY2ttYXJrLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlcXVlc3QgYWN0dWFsbHkgaXMgdXRmLTggZW5jb2RlZC5cbnZhciBjaGFyc2V0U2VudGluZWwgPSAndXRmOD0lRTIlOUMlOTMnOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBjbGVhblN0ciA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPyBzdHIucmVwbGFjZSgvXlxcPy8sICcnKSA6IHN0cjtcbiAgICB2YXIgbGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQ7XG4gICAgdmFyIHBhcnRzID0gY2xlYW5TdHIuc3BsaXQob3B0aW9ucy5kZWxpbWl0ZXIsIGxpbWl0KTtcbiAgICB2YXIgc2tpcEluZGV4ID0gLTE7IC8vIEtlZXAgdHJhY2sgb2Ygd2hlcmUgdGhlIHV0Zjggc2VudGluZWwgd2FzIGZvdW5kXG4gICAgdmFyIGk7XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldDtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFydHNbaV0uaW5kZXhPZigndXRmOD0nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAndXRmLTgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IGlzb1NlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAnaXNvLTg4NTktMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IHBhcnRzLmxlbmd0aDsgLy8gVGhlIGVzbGludCBzZXR0aW5ncyBkbyBub3QgYWxsb3cgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IHNraXBJbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICB2YXIgYnJhY2tldEVxdWFsc1BvcyA9IHBhcnQuaW5kZXhPZignXT0nKTtcbiAgICAgICAgdmFyIHBvcyA9IGJyYWNrZXRFcXVhbHNQb3MgPT09IC0xID8gcGFydC5pbmRleE9mKCc9JykgOiBicmFja2V0RXF1YWxzUG9zICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSB1dGlscy5tYXliZU1hcChcbiAgICAgICAgICAgICAgICBwYXJzZUFycmF5VmFsdWUocGFydC5zbGljZShwb3MgKyAxKSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVuY29kZWRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVjb2RlcihlbmNvZGVkVmFsLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbCAmJiBvcHRpb25zLmludGVycHJldE51bWVyaWNFbnRpdGllcyAmJiBjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIHZhbCA9IGludGVycHJldE51bWVyaWNFbnRpdGllcyh2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQuaW5kZXhPZignW109JykgPiAtMSkge1xuICAgICAgICAgICAgdmFsID0gaXNBcnJheSh2YWwpID8gW3ZhbF0gOiB2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzLmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHV0aWxzLmNvbWJpbmUob2JqW2tleV0sIHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAoY2hhaW4sIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKSB7XG4gICAgdmFyIGxlYWYgPSB2YWx1ZXNQYXJzZWQgPyB2YWwgOiBwYXJzZUFycmF5VmFsdWUodmFsLCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB2YXIgcm9vdCA9IGNoYWluW2ldO1xuXG4gICAgICAgIGlmIChyb290ID09PSAnW10nICYmIG9wdGlvbnMucGFyc2VBcnJheXMpIHtcbiAgICAgICAgICAgIG9iaiA9IFtdLmNvbmNhdChsZWFmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgICAgICAgdmFyIGNsZWFuUm9vdCA9IHJvb3QuY2hhckF0KDApID09PSAnWycgJiYgcm9vdC5jaGFyQXQocm9vdC5sZW5ndGggLSAxKSA9PT0gJ10nID8gcm9vdC5zbGljZSgxLCAtMSkgOiByb290O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQoY2xlYW5Sb290LCAxMCk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucGFyc2VBcnJheXMgJiYgY2xlYW5Sb290ID09PSAnJykge1xuICAgICAgICAgICAgICAgIG9iaiA9IHsgMDogbGVhZiB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAhaXNOYU4oaW5kZXgpXG4gICAgICAgICAgICAgICAgJiYgcm9vdCAhPT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgU3RyaW5nKGluZGV4KSA9PT0gY2xlYW5Sb290XG4gICAgICAgICAgICAgICAgJiYgaW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICYmIChvcHRpb25zLnBhcnNlQXJyYXlzICYmIGluZGV4IDw9IG9wdGlvbnMuYXJyYXlMaW1pdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG9iaiA9IFtdO1xuICAgICAgICAgICAgICAgIG9ialtpbmRleF0gPSBsZWFmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbY2xlYW5Sb290XSA9IGxlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZWFmID0gb2JqOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgfVxuXG4gICAgcmV0dXJuIGxlYWY7XG59O1xuXG52YXIgcGFyc2VLZXlzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ0tleXMoZ2l2ZW5LZXksIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKSB7XG4gICAgaWYgKCFnaXZlbktleSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGRvdCBub3RhdGlvbiB0byBicmFja2V0IG5vdGF0aW9uXG4gICAgdmFyIGtleSA9IG9wdGlvbnMuYWxsb3dEb3RzID8gZ2l2ZW5LZXkucmVwbGFjZSgvXFwuKFteLltdKykvZywgJ1skMV0nKSA6IGdpdmVuS2V5O1xuXG4gICAgLy8gVGhlIHJlZ2V4IGNodW5rc1xuXG4gICAgdmFyIGJyYWNrZXRzID0gLyhcXFtbXltcXF1dKl0pLztcbiAgICB2YXIgY2hpbGQgPSAvKFxcW1teW1xcXV0qXSkvZztcblxuICAgIC8vIEdldCB0aGUgcGFyZW50XG5cbiAgICB2YXIgc2VnbWVudCA9IG9wdGlvbnMuZGVwdGggPiAwICYmIGJyYWNrZXRzLmV4ZWMoa2V5KTtcbiAgICB2YXIgcGFyZW50ID0gc2VnbWVudCA/IGtleS5zbGljZSgwLCBzZWdtZW50LmluZGV4KSA6IGtleTtcblxuICAgIC8vIFN0YXNoIHRoZSBwYXJlbnQgaWYgaXQgZXhpc3RzXG5cbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlbid0IHVzaW5nIHBsYWluIG9iamVjdHMsIG9wdGlvbmFsbHkgcHJlZml4IGtleXMgdGhhdCB3b3VsZCBvdmVyd3JpdGUgb2JqZWN0IHByb3RvdHlwZSBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgcGFyZW50KSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChwYXJlbnQpO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBjaGlsZHJlbiBhcHBlbmRpbmcgdG8gdGhlIGFycmF5IHVudGlsIHdlIGhpdCBkZXB0aFxuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChvcHRpb25zLmRlcHRoID4gMCAmJiAoc2VnbWVudCA9IGNoaWxkLmV4ZWMoa2V5KSkgIT09IG51bGwgJiYgaSA8IG9wdGlvbnMuZGVwdGgpIHtcbiAgICAgICAgaSArPSAxO1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNlZ21lbnRbMV0uc2xpY2UoMSwgLTEpKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrZXlzLnB1c2goc2VnbWVudFsxXSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUncyBhIHJlbWFpbmRlciwganVzdCBhZGQgd2hhdGV2ZXIgaXMgbGVmdFxuXG4gICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAga2V5cy5wdXNoKCdbJyArIGtleS5zbGljZShzZWdtZW50LmluZGV4KSArICddJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlT2JqZWN0KGtleXMsIHZhbCwgb3B0aW9ucywgdmFsdWVzUGFyc2VkKTtcbn07XG5cbnZhciBub3JtYWxpemVQYXJzZU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cykge1xuICAgIGlmICghb3B0cykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVjb2RlciAhPT0gbnVsbCAmJiBvcHRzLmRlY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0cy5kZWNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0RlY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB2YXIgY2hhcnNldCA9IHR5cGVvZiBvcHRzLmNoYXJzZXQgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuY2hhcnNldCA6IG9wdHMuY2hhcnNldDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGFsbG93UHJvdG90eXBlczogdHlwZW9mIG9wdHMuYWxsb3dQcm90b3R5cGVzID09PSAnYm9vbGVhbicgPyBvcHRzLmFsbG93UHJvdG90eXBlcyA6IGRlZmF1bHRzLmFsbG93UHJvdG90eXBlcyxcbiAgICAgICAgYXJyYXlMaW1pdDogdHlwZW9mIG9wdHMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0LFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGNvbW1hOiB0eXBlb2Ygb3B0cy5jb21tYSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jb21tYSA6IGRlZmF1bHRzLmNvbW1hLFxuICAgICAgICBkZWNvZGVyOiB0eXBlb2Ygb3B0cy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcixcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdHMuZGVsaW1pdGVyKSA/IG9wdHMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW1wbGljaXQtY29lcmNpb24sIG5vLWV4dHJhLXBhcmVuc1xuICAgICAgICBkZXB0aDogKHR5cGVvZiBvcHRzLmRlcHRoID09PSAnbnVtYmVyJyB8fCBvcHRzLmRlcHRoID09PSBmYWxzZSkgPyArb3B0cy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoLFxuICAgICAgICBpZ25vcmVRdWVyeVByZWZpeDogb3B0cy5pZ25vcmVRdWVyeVByZWZpeCA9PT0gdHJ1ZSxcbiAgICAgICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiB0eXBlb2Ygb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgPT09ICdib29sZWFuJyA/IG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIDogZGVmYXVsdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzLFxuICAgICAgICBwYXJhbWV0ZXJMaW1pdDogdHlwZW9mIG9wdHMucGFyYW1ldGVyTGltaXQgPT09ICdudW1iZXInID8gb3B0cy5wYXJhbWV0ZXJMaW1pdCA6IGRlZmF1bHRzLnBhcmFtZXRlckxpbWl0LFxuICAgICAgICBwYXJzZUFycmF5czogb3B0cy5wYXJzZUFycmF5cyAhPT0gZmFsc2UsXG4gICAgICAgIHBsYWluT2JqZWN0czogdHlwZW9mIG9wdHMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRzLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cyxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpO1xuXG4gICAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSBudWxsIHx8IHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcE9iaiA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRlbXBPYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIG5ld09iaiA9IHBhcnNlS2V5cyhrZXksIHRlbXBPYmpba2V5XSwgb3B0aW9ucywgdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHV0aWxzLmNvbXBhY3Qob2JqKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGFycmF5UHJlZml4R2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0czogZnVuY3Rpb24gYnJhY2tldHMocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xuICAgIH0sXG4gICAgY29tbWE6ICdjb21tYScsXG4gICAgaW5kaWNlczogZnVuY3Rpb24gaW5kaWNlcyhwcmVmaXgsIGtleSkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0OiBmdW5jdGlvbiByZXBlYXQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbnZhciBwdXNoVG9BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlT3JBcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlT3JBcnJheSkgPyB2YWx1ZU9yQXJyYXkgOiBbdmFsdWVPckFycmF5XSk7XG59O1xuXG52YXIgdG9JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxudmFyIGRlZmF1bHRGb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGVuY29kZTogdHJ1ZSxcbiAgICBlbmNvZGVyOiB1dGlscy5lbmNvZGUsXG4gICAgZW5jb2RlVmFsdWVzT25seTogZmFsc2UsXG4gICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgIGZvcm1hdHRlcjogZm9ybWF0cy5mb3JtYXR0ZXJzW2RlZmF1bHRGb3JtYXRdLFxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpc05vbk51bGxpc2hQcmltaXRpdmUgPSBmdW5jdGlvbiBpc05vbk51bGxpc2hQcmltaXRpdmUodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdudW1iZXInXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYm9vbGVhbidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdzeW1ib2wnXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYmlnaW50Jztcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0XG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9IGVsc2UgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNBcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1heWJlTWFwKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KS5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JykgOiBwcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG5cbiAgICBpZiAoaXNOb25OdWxsaXNoUHJpbWl0aXZlKG9iaikgfHwgdXRpbHMuaXNCdWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeCA6IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyBmb3JtYXR0ZXIoZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChpc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleVByZWZpeCA9IGlzQXJyYXkob2JqKVxuICAgICAgICAgICAgPyB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/IGdlbmVyYXRlQXJyYXlQcmVmaXgocHJlZml4LCBrZXkpIDogcHJlZml4XG4gICAgICAgICAgICA6IHByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBrZXkgOiAnWycgKyBrZXkgKyAnXScpO1xuXG4gICAgICAgIHB1c2hUb0FycmF5KHZhbHVlcywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBrZXlQcmVmaXgsXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgZW5jb2RlcixcbiAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgIGNoYXJzZXRcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbnZhciBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmNvZGVyICE9PSBudWxsICYmIG9wdHMuZW5jb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdHMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgZm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghaGFzLmNhbGwoZm9ybWF0cy5mb3JtYXR0ZXJzLCBvcHRzLmZvcm1hdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQgPSBvcHRzLmZvcm1hdDtcbiAgICB9XG4gICAgdmFyIGZvcm1hdHRlciA9IGZvcm1hdHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgdmFyIGZpbHRlciA9IGRlZmF1bHRzLmZpbHRlcjtcbiAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nIHx8IGlzQXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFF1ZXJ5UHJlZml4OiB0eXBlb2Ygb3B0cy5hZGRRdWVyeVByZWZpeCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hZGRRdWVyeVByZWZpeCA6IGRlZmF1bHRzLmFkZFF1ZXJ5UHJlZml4LFxuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdHMuZGVsaW1pdGVyLFxuICAgICAgICBlbmNvZGU6IHR5cGVvZiBvcHRzLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGUsXG4gICAgICAgIGVuY29kZXI6IHR5cGVvZiBvcHRzLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyLFxuICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5OiB0eXBlb2Ygb3B0cy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cyk7XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmIChvcHRzICYmICdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuXG4gICAgaWYgKCFvYmpLZXlzKSB7XG4gICAgICAgIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqS2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaFRvQXJyYXkoa2V5cywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBvcHRpb25zLnNraXBOdWxscyxcbiAgICAgICAgICAgIG9wdGlvbnMuZW5jb2RlID8gb3B0aW9ucy5lbmNvZGVyIDogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnMuZmlsdGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5zb3J0LFxuICAgICAgICAgICAgb3B0aW9ucy5hbGxvd0RvdHMsXG4gICAgICAgICAgICBvcHRpb25zLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBvcHRpb25zLmZvcm1hdHRlcixcbiAgICAgICAgICAgIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgIG9wdGlvbnMuY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbnZhciBjb21wYWN0UXVldWUgPSBmdW5jdGlvbiBjb21wYWN0UXVldWUocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fCAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgIWlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYgKGhhcy5jYWxsKHRhcmdldCwgaSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduU2luZ2xlU291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59O1xuXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHN0ciwgZGVjb2RlciwgY2hhcnNldCkge1xuICAgIHZhciBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufTtcblxudmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShzdHIsIGRlZmF1bHRFbmNvZGVyLCBjaGFyc2V0KSB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgLy8gLVxuICAgICAgICAgICAgfHwgYyA9PT0gMHgyRSAvLyAuXG4gICAgICAgICAgICB8fCBjID09PSAweDVGIC8vIF9cbiAgICAgICAgICAgIHx8IGMgPT09IDB4N0UgLy8gflxuICAgICAgICAgICAgfHwgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIC8vIDAtOVxuICAgICAgICAgICAgfHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIC8vIGEtelxuICAgICAgICAgICAgfHwgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgb3V0ICs9IGhleFRhYmxlWzB4RjAgfCAoYyA+PiAxOCldXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG52YXIgY29tcGFjdCA9IGZ1bmN0aW9uIGNvbXBhY3QodmFsdWUpIHtcbiAgICB2YXIgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIHZhciByZWZzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWVbaV07XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7IG9iajogb2JqLCBwcm9wOiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wYWN0UXVldWUocXVldWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGlzUmVnRXhwID0gZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5cbnZhciBpc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59O1xuXG52YXIgY29tYmluZSA9IGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59O1xuXG52YXIgbWF5YmVNYXAgPSBmdW5jdGlvbiBtYXliZU1hcCh2YWwsIGZuKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YXIgbWFwcGVkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBtYXBwZWQucHVzaChmbih2YWxbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH1cbiAgICByZXR1cm4gZm4odmFsKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFycmF5VG9PYmplY3Q6IGFycmF5VG9PYmplY3QsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgY29tYmluZTogY29tYmluZSxcbiAgICBjb21wYWN0OiBjb21wYWN0LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gICAgbWF5YmVNYXA6IG1heWJlTWFwLFxuICAgIG1lcmdlOiBtZXJnZVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=