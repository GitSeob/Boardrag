(self.webpackChunk_42board_front=self.webpackChunk_42board_front||[]).push([[379],{2033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(7294),o=r(5366);const i=r(9911).F4`
    from {
        transform: rotate(0);
    }
    to {
        transform: rotate(359deg);
    }
`,a=(0,o.Z)("div",{target:"ekojj7n2",label:"LoadingCircleContainer"})({name:"8lbyj9",styles:"width:300px;height:300px;display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),l=(0,o.Z)("div",{target:"ekojj7n1",label:"LoadingCircleBox"})("width:150px;height:150px;padding:3px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:rgb(63, 249, 200);background:linear-gradient(0deg, rgba(63, 249, 200, 0.1) 33%, rgba(63, 249, 220, 1) 100%);animation:",i," .8s linear 0s infinite;"),c=(0,o.Z)("div",{target:"ekojj7n0",label:"LoadingCircleCore"})({name:"1sudnkc",styles:"width:100%;height:100%;background:#001c29;border-radius:50%"}),s=()=>n.createElement(a,null,n.createElement(l,null,n.createElement(c,null)))},9379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(7294),o=r(8100),i=r(129),a=r.n(i),l=r(3564),c=r(5366);const s=r(9911).F4`
    from {
        transform: translate(-50%, -30%);
        opacity: 0;
    }
    to {
        transform: translate(-50%, -50%);
        opacity: 1;
    }
`,f=(0,c.Z)("div",{target:"eoptdla1",label:"LoginContainer"})("background:rgba(0, 0, 0, .3);padding:1rem;width:fit-content;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);animation:",s," .5s ease-in-out 1;color:#fff;min-width:300px;&>h1{text-align:center;margin-bottom:1rem;}&>p{color:#ff7777;font-size:10px;margin-top:.5rem;text-align:center;}"),u=(0,c.Z)("a",{target:"eoptdla0",label:"LoginButton"})({name:"fk0ebp",styles:"background:#090a0f;color:#fff;padding:.5rem 3.5rem;display:inline-flex;position:relative;cursor:pointer;width:100%;align-items:center;justify-content:center;font-weight:500;&:hover{box-shadow:0 0 4px 1px rgba(255, 255, 255, 0.3);}&>img{position:absolute;left:1rem;top:50%;transform:translateY(-50%);height:1.5rem;}"});var p=r(3653),d=r.n(p),y=r(5977),m=r(2033);const h=()=>{const{data:e,revalidate:t}=(0,o.ZP)("/api/auth",l.Z);let r;return location.search&&!1===e&&(r=a().parse(location.search,{ignoreQueryPrefix:!0}),!e&&r.code)?(d().post("/api/auth",{codeValue:r.code,trashValue:"123"},{withCredentials:!0}).then((e=>(t(),e.data))).catch((e=>{console.error(e),location.href="/auth?error=codeValue"})),n.createElement(m.Z,null)):e||e?n.createElement(y.l_,{to:"/board/42board"}):n.createElement(f,null,n.createElement("h1",null,"LOGIN"),n.createElement(u,{href:"https://api.intra.42.fr/oauth/authorize?client_id=14d2cc7b2ea3fd84090c4860715a586213c20b35cc9b5a71895405c23b703303&redirect_uri=https%3A%2F%2F42board.com%2Fauth&response_type=code"},n.createElement("img",{src:"/public/42_logo.svg"}),"Login with 42API"),r?.error&&n.createElement("p",null,"42API에서 전송한 코드 값 문제가 발생했습니다."))}},3564:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(3653),o=r.n(n);const i=e=>o().get(e,{withCredentials:!0}).then((e=>e.data))},5798:(e,t,r)=>{"use strict";var n=String.prototype.replace,o=/%20/g,i=r(2769),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},a)},129:(e,t,r)=>{"use strict";var n=r(8261),o=r(5235),i=r(5798);e.exports={formats:i,parse:o,stringify:n}},5235:(e,t,r)=>{"use strict";var n=r(2769),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},s=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=l?i.slice(0,l.index):i,f=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;f.push(s)}for(var u=0;r.depth>0&&null!==(l=a.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&o.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(l[1])}return l&&f.push("["+i.slice(l.index)+"]"),function(e,t,r,n){for(var o=n?t:c(t,r),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,f=parseInt(s,10);r.parseArrays||""!==s?!isNaN(f)&&l!==s&&String(f)===s&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[])[f]=o:a[s]=o:a={0:o}}o=a}return o}(f,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var r,s={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,p=f.split(t.delimiter,u),d=-1,y=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?y="utf-8":"utf8=%26%2310003%3B"===p[r]&&(y="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var m,h,b=p[r],g=b.indexOf("]="),v=-1===g?b.indexOf("="):g+1;-1===v?(m=t.decoder(b,a.decoder,y,"key"),h=t.strictNullHandling?null:""):(m=t.decoder(b.slice(0,v),a.decoder,y,"key"),h=n.maybeMap(c(b.slice(v+1),t),(function(e){return t.decoder(e,a.decoder,y,"value")}))),h&&t.interpretNumericEntities&&"iso-8859-1"===y&&(h=l(h)),b.indexOf("[]=")>-1&&(h=i(h)?[h]:h),o.call(s,m)?s[m]=n.combine(s[m],h):s[m]=h}return s}(e,r):e,u=r.plainObjects?Object.create(null):{},p=Object.keys(f),d=0;d<p.length;++d){var y=p[d],m=s(y,f[y],r,"string"==typeof e);u=n.merge(u,m,r)}return n.compact(u)}},8261:(e,t,r)=>{"use strict";var n=r(2769),o=r(5798),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,s=function(e,t){c.apply(e,l(t)?t:[t])},f=Date.prototype.toISOString,u=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:u,formatter:o.formatters[u],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,o,i,a,c,f,u,d,y,m,h,b){var g,v=t;if("function"==typeof f?v=f(r,v):v instanceof Date?v=y(v):"comma"===o&&l(v)&&(v=n.maybeMap(v,(function(e){return e instanceof Date?y(e):e})).join(",")),null===v){if(i)return c&&!h?c(r,p.encoder,b,"key"):r;v=""}if("string"==typeof(g=v)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||n.isBuffer(v))return c?[m(h?r:c(r,p.encoder,b,"key"))+"="+m(c(v,p.encoder,b,"value"))]:[m(r)+"="+m(String(v))];var j,w=[];if(void 0===v)return w;if(l(f))j=f;else{var O=Object.keys(v);j=u?O.sort(u):O}for(var x=0;x<j.length;++x){var k=j[x],E=v[k];if(!a||null!==E){var N=l(v)?"function"==typeof o?o(r,k):r:r+(d?"."+k:"["+k+"]");s(w,e(E,N,o,i,a,c,f,u,d,y,m,h,b))}}return w};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],a=p.filter;return("function"==typeof e.filter||l(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):l(c.filter)&&(r=c.filter);var f,u=[];if("object"!=typeof n||null===n)return"";f=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var y=a[f];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var h=r[m];c.skipNulls&&null===n[h]||s(u,d(n[h],h,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var b=u.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),b.length>0?g+b:""}},2769:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],a=i.obj[i.prop],l=Object.keys(a),c=0;c<l.length;++c){var s=l[c],f=a[s];"object"==typeof f&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:a,prop:s}),n.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<o.length;++a){var l=o.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?i+=o.charAt(a):l<128?i+=n[l]:l<2048?i+=n[192|l>>6]+n[128|63&l]:l<55296||l>=57344?i+=n[224|l>>12]+n[128|l>>6&63]+n[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(a)),i+=n[240|l>>18]+n[128|l>>12&63]+n[128|l>>6&63]+n[128|63&l])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n}return t(e)},merge:function e(n,i,a){if(!i)return n;if("object"!=typeof i){if(r(n))n.push(i);else{if(!n||"object"!=typeof n)return[n,i];(a&&(a.plainObjects||a.allowPrototypes)||!t.call(Object.prototype,i))&&(n[i]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(i);var l=n;return r(n)&&!r(i)&&(l=o(n,a)),r(n)&&r(i)?(i.forEach((function(r,o){if(t.call(n,o)){var i=n[o];i&&"object"==typeof i&&r&&"object"==typeof r?n[o]=e(i,r,a):n.push(r)}else n[o]=r})),n):Object.keys(i).reduce((function(r,n){var o=i[n];return t.call(r,n)?r[n]=e(r[n],o,a):r[n]=o,r}),l)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL3N0eWxlLnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vY29tcG9uZW50cy9Mb2FkaW5nQ2lyY2xlL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vcGFnZXMvQXV0aC9zdHlsZXMudHN4Iiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9wYWdlcy9BdXRoL2luZGV4LnRzeCIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vdXRpbHMvZmV0Y2hlci50cyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi9mb3JtYXRzLmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzIiwid2VicGFjazovLzQyYm9hcmQtZnJvbnQvLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly80MmJvYXJkLWZyb250Ly4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qcyJdLCJuYW1lcyI6WyJzcGluIiwia2V5ZnJhbWVzIiwiTG9hZGluZ0NpcmNsZUNvbnRhaW5lciIsIkxvYWRpbmdDaXJjbGVCb3giLCJMb2FkaW5nQ2lyY2xlQ29yZSIsImFwcGVhclVwIiwiTG9naW5Db250YWluZXIiLCJMb2dpbkJ1dHRvbiIsImRhdGEiLCJ1c2VyRGF0YSIsInJldmFsaWRhdGUiLCJ1c2VTV1IiLCJmZXRjaGVyIiwicXVlcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsInFzIiwiaWdub3JlUXVlcnlQcmVmaXgiLCJjb2RlIiwiYXhpb3MiLCJjb2RlVmFsdWUiLCJ0cmFzaFZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImhyZWYiLCJMb2FkaW5nQ2lyY2xlIiwidG8iLCJzcmMiLCJ1cmwiLCJyZXNwb25zZSIsInJlcGxhY2UiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJwZXJjZW50VHdlbnRpZXMiLCJ1dGlsIiwiRm9ybWF0IiwiUkZDMTczOCIsIlJGQzM5ODYiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXNzaWduIiwiZm9ybWF0dGVycyIsInZhbHVlIiwiY2FsbCIsInN0cmluZ2lmeSIsInBhcnNlIiwiZm9ybWF0cyIsInV0aWxzIiwiaGFzIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJpc0FycmF5IiwiQXJyYXkiLCJkZWZhdWx0cyIsImFsbG93RG90cyIsImFsbG93UHJvdG90eXBlcyIsImFycmF5TGltaXQiLCJjaGFyc2V0IiwiY2hhcnNldFNlbnRpbmVsIiwiY29tbWEiLCJkZWNvZGVyIiwiZGVjb2RlIiwiZGVsaW1pdGVyIiwiZGVwdGgiLCJpbnRlcnByZXROdW1lcmljRW50aXRpZXMiLCJwYXJhbWV0ZXJMaW1pdCIsInBhcnNlQXJyYXlzIiwicGxhaW5PYmplY3RzIiwic3RyaWN0TnVsbEhhbmRsaW5nIiwic3RyIiwiJDAiLCJudW1iZXJTdHIiLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUludCIsInBhcnNlQXJyYXlWYWx1ZSIsInZhbCIsIm9wdGlvbnMiLCJpbmRleE9mIiwic3BsaXQiLCJwYXJzZUtleXMiLCJnaXZlbktleSIsInZhbHVlc1BhcnNlZCIsImtleSIsImNoaWxkIiwic2VnbWVudCIsImV4ZWMiLCJwYXJlbnQiLCJzbGljZSIsImluZGV4Iiwia2V5cyIsInB1c2giLCJpIiwiY2hhaW4iLCJsZWFmIiwibGVuZ3RoIiwib2JqIiwicm9vdCIsImNvbmNhdCIsImNyZWF0ZSIsImNsZWFuUm9vdCIsImNoYXJBdCIsImlzTmFOIiwiMCIsInBhcnNlT2JqZWN0Iiwib3B0cyIsInVuZGVmaW5lZCIsIlR5cGVFcnJvciIsImlzUmVnRXhwIiwibm9ybWFsaXplUGFyc2VPcHRpb25zIiwidGVtcE9iaiIsImNsZWFuU3RyIiwibGltaXQiLCJJbmZpbml0eSIsInBhcnRzIiwic2tpcEluZGV4IiwicGFydCIsImJyYWNrZXRFcXVhbHNQb3MiLCJwb3MiLCJtYXliZU1hcCIsImVuY29kZWRWYWwiLCJjb21iaW5lIiwicGFyc2VWYWx1ZXMiLCJuZXdPYmoiLCJtZXJnZSIsImNvbXBhY3QiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImluZGljZXMiLCJyZXBlYXQiLCJwdXNoVG9BcnJheSIsImFyciIsInZhbHVlT3JBcnJheSIsImFwcGx5IiwidG9JU08iLCJEYXRlIiwidG9JU09TdHJpbmciLCJkZWZhdWx0Rm9ybWF0IiwiYWRkUXVlcnlQcmVmaXgiLCJlbmNvZGUiLCJlbmNvZGVyIiwiZW5jb2RlVmFsdWVzT25seSIsImZvcm1hdCIsImZvcm1hdHRlciIsInNlcmlhbGl6ZURhdGUiLCJkYXRlIiwic2tpcE51bGxzIiwib2JqZWN0IiwiZ2VuZXJhdGVBcnJheVByZWZpeCIsImZpbHRlciIsInNvcnQiLCJ2Iiwiam9pbiIsImlzQnVmZmVyIiwib2JqS2V5cyIsInZhbHVlcyIsImtleVByZWZpeCIsIm5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMiLCJhcnJheUZvcm1hdCIsImpvaW5lZCIsImhleFRhYmxlIiwiYXJyYXkiLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiYXJyYXlUb09iamVjdCIsInNvdXJjZSIsInRhcmdldCIsInJlZHVjZSIsImFjYyIsImEiLCJiIiwicXVldWUiLCJvIiwicHJvcCIsInJlZnMiLCJpdGVtIiwiaiIsInBvcCIsImNvbXBhY3RlZCIsImNvbXBhY3RRdWV1ZSIsInN0cldpdGhvdXRQbHVzIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkZWZhdWx0RW5jb2RlciIsInN0cmluZyIsIlN5bWJvbCIsImVzY2FwZSIsIm91dCIsImMiLCJjaGFyQ29kZUF0IiwiY29uc3RydWN0b3IiLCJmbiIsIm1hcHBl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QUlsSCxFQUFRbUgsR0FDUkEsRUFBTzVFLEtBQUsyRSxPQUNULEtBQUlDLEdBQTRCLGlCQUFYQSxFQUt4QixNQUFPLENBQUNBLEVBQVFELElBSlh6RixJQUFZQSxFQUFRVCxjQUFnQlMsRUFBUXJCLG1CQUFzQlAsRUFBSUwsS0FBS00sT0FBT2pCLFVBQVdxSSxNQUM5RkMsRUFBT0QsSUFBVSxHQU16QixPQUFPQyxFQUdYLElBQUtBLEdBQTRCLGlCQUFYQSxFQUNsQixNQUFPLENBQUNBLEdBQVFyRSxPQUFPb0UsR0FHM0IsSUFBSTRCLEVBQWMzQixFQUtsQixPQUpJbkgsRUFBUW1ILEtBQVluSCxFQUFRa0gsS0FDNUI0QixFQUFjN0IsRUFBY0UsRUFBUTFGLElBR3BDekIsRUFBUW1ILElBQVduSCxFQUFRa0gsSUFDM0JBLEVBQU82QixTQUFRLFNBQVVuQixFQUFNcEYsR0FDM0IsR0FBSTNDLEVBQUlMLEtBQUsySCxFQUFRM0UsR0FBSSxDQUNyQixJQUFJd0csRUFBYTdCLEVBQU8zRSxHQUNwQndHLEdBQW9DLGlCQUFmQSxHQUEyQnBCLEdBQXdCLGlCQUFUQSxFQUMvRFQsRUFBTzNFLEdBQUtnQyxFQUFNd0UsRUFBWXBCLEVBQU1uRyxHQUVwQzBGLEVBQU81RSxLQUFLcUYsUUFHaEJULEVBQU8zRSxHQUFLb0YsS0FHYlQsR0FHSnJILE9BQU93QyxLQUFLNEUsR0FBUUUsUUFBTyxTQUFVQyxFQUFLdEYsR0FDN0MsSUFBSXhDLEVBQVEySCxFQUFPbkYsR0FPbkIsT0FMSWxDLEVBQUlMLEtBQUs2SCxFQUFLdEYsR0FDZHNGLEVBQUl0RixHQUFPeUMsRUFBTTZDLEVBQUl0RixHQUFNeEMsRUFBT2tDLEdBRWxDNEYsRUFBSXRGLEdBQU94QyxFQUVSOEgsSUFDUnlCIiwiZmlsZSI6IjM3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuY29uc3Qgc3BpbiA9IGtleWZyYW1lc2BcbiAgICBmcm9tIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMCk7XG4gICAgfVxuICAgIHRvIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzU5ZGVnKTtcbiAgICB9XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gICAgd2lkdGg6IDMwMHB4O1xuICAgIGhlaWdodDogMzAwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG5gO1xuXG5leHBvcnQgY29uc3QgTG9hZGluZ0NpcmNsZUJveCA9IHN0eWxlZC5kaXZgXG4gICAgd2lkdGg6IDE1MHB4O1xuICAgIGhlaWdodDogMTUwcHg7XG4gICAgcGFkZGluZzogM3B4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZDogcmdiKDYzLCAyNDksIDIwMCk7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEoNjMsIDI0OSwgMjAwLCAwLjEpIDMzJSwgcmdiYSg2MywgMjQ5LCAyMjAsIDEpIDEwMCUpO1xuICAgIGFuaW1hdGlvbjogJHtzcGlufSAuOHMgbGluZWFyIDBzIGluZmluaXRlO1xuYDtcblxuZXhwb3J0IGNvbnN0IExvYWRpbmdDaXJjbGVDb3JlID0gc3R5bGVkLmRpdmBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogIzAwMWMyOTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG5gO1xuXG5cbiIsImltcG9ydCBSZWFjdCwge0ZDfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge0xvYWRpbmdDaXJjbGVDb250YWluZXIsIExvYWRpbmdDaXJjbGVCb3gsIExvYWRpbmdDaXJjbGVDb3JlfSBmcm9tICcuL3N0eWxlJztcblxuY29uc3QgTG9hZGluZ0NpcmNsZTpGQyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGluZ0NpcmNsZUNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxMb2FkaW5nQ2lyY2xlQm94PlxuICAgICAgICAgICAgICAgIDxMb2FkaW5nQ2lyY2xlQ29yZT48L0xvYWRpbmdDaXJjbGVDb3JlPlxuICAgICAgICAgICAgPC9Mb2FkaW5nQ2lyY2xlQm94PlxuICAgICAgICA8L0xvYWRpbmdDaXJjbGVDb250YWluZXI+XG4gICAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9hZGluZ0NpcmNsZTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IGtleWZyYW1lcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcblxuY29uc3QgYXBwZWFyVXAgPSBrZXlmcmFtZXNgXG4gICAgZnJvbSB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC0zMCUpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgICB0byB7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBMb2dpbkNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMyk7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICBhbmltYXRpb246ICR7YXBwZWFyVXB9IC41cyBlYXNlLWluLW91dCAxO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIG1pbi13aWR0aDogMzAwcHg7XG5cbiAgICAmID4gaDEge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG4gICAgfVxuXG4gICAgJiA+IHAge1xuICAgICAgICBjb2xvcjogI2ZmNzc3NztcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAuNXJlbTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBMb2dpbkJ1dHRvbiA9IHN0eWxlZC5hYFxuICAgIGJhY2tncm91bmQ6ICMwOTBhMGY7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgcGFkZGluZzogLjVyZW0gMy41cmVtO1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmb250LXdlaWdodDogNTAwO1xuXG4gICAgJjpob3ZlciB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCA0cHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcbiAgICB9XG5cbiAgICAmID4gaW1nIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAxcmVtO1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgICAgICBoZWlnaHQ6IDEuNXJlbTtcbiAgICB9XG5gXG4iLCJpbXBvcnQgUmVhY3QsIHtGQ30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZVNXUiBmcm9tICdzd3InO1xuaW1wb3J0IHFzIGZyb20gJ3FzJztcbmltcG9ydCBmZXRjaGVyIGZyb20gJ0B1dGlscy9mZXRjaGVyJztcbmltcG9ydCB7IExvZ2luQ29udGFpbmVyLCBMb2dpbkJ1dHRvbiB9IGZyb20gJ0BwYWdlcy9BdXRoL3N0eWxlcyc7XG5pbXBvcnQgeyBGVF9VSUQsIE9BVVRILCBGUk9OVF9VUkwgfSBmcm9tICdAY29uZmlnL2NvbmZpZyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBMb2FkaW5nQ2lyY2xlIGZyb20gJ0Bjb21wb25lbnRzL0xvYWRpbmdDaXJjbGUnO1xuXG5jb25zdCBBdXRoOkZDID0gKCkgPT4ge1xuICAgIGNvbnN0IE9BdXRoVVJMOnN0cmluZyA9IGAke09BVVRIfS9hdXRob3JpemU/Y2xpZW50X2lkPSR7RlRfVUlEfSZyZWRpcmVjdF91cmk9JHtGUk9OVF9VUkx9JnJlc3BvbnNlX3R5cGU9Y29kZWBcbiAgICBjb25zdCB7IGRhdGE6dXNlckRhdGEsIHJldmFsaWRhdGUgfSA9IHVzZVNXUignL2FwaS9hdXRoJywgZmV0Y2hlcik7XG4gICAgbGV0IHF1ZXJ5O1xuICAgIGlmIChsb2NhdGlvbi5zZWFyY2ggJiYgdXNlckRhdGEgPT09IGZhbHNlKVxuICAgIHtcbiAgICAgICAgcXVlcnkgPSBxcy5wYXJzZShsb2NhdGlvbi5zZWFyY2gsIHtcbiAgICAgICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlIC8vIC9hYm91dD9kZXRhaWxzPXRydWUg6rCZ7J2AIOy/vOumrCDso7zshozsnZggJz8n66W8IOyDneuete2VtOyjvOuKlCDsmLXshZjsnoXri4jri6QuXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXVzZXJEYXRhICYmIHF1ZXJ5LmNvZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF4aW9zLnBvc3QoYC9hcGkvYXV0aGAsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZVZhbHVlOiBxdWVyeS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICB0cmFzaFZhbHVlOiAnMTIzJyxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xuICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gXCIvYXV0aD9lcnJvcj1jb2RlVmFsdWVcIjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm4gPExvYWRpbmdDaXJjbGUgLz5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyRGF0YSkge1xuICAgICAgICByZXR1cm4gPFJlZGlyZWN0IHRvPVwiL2JvYXJkLzQyYm9hcmRcIiAvPlxuICAgIH1cblxuICAgIGlmICh1c2VyRGF0YSlcbiAgICAgICAgcmV0dXJuIDxSZWRpcmVjdCB0bz1cIi9ib2FyZC80MmJvYXJkXCIgLz5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMb2dpbkNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxoMT5MT0dJTjwvaDE+XG4gICAgICAgICAgICA8TG9naW5CdXR0b24gaHJlZj17T0F1dGhVUkx9PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiL3B1YmxpYy80Ml9sb2dvLnN2Z1wiIC8+XG4gICAgICAgICAgICAgICAgTG9naW4gd2l0aCA0MkFQSVxuICAgICAgICAgICAgPC9Mb2dpbkJ1dHRvbj5cbiAgICAgICAgICAgIHsgcXVlcnk/LmVycm9yICYmIDxwPjQyQVBJ7JeQ7IScIOyghOyGoe2VnCDsvZTrk5wg6rCSIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuPC9wPn1cbiAgICAgICAgPC9Mb2dpbkNvbnRhaW5lcj5cbiAgICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBdXRoO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgZmV0Y2hlciA9ICh1cmw6IHN0cmluZykgPT4gYXhpb3MuZ2V0KFxuICAgIHVybCxcbiAgICB7XG4gICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZVxuICAgIH1cbikudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmRhdGEpO1xuXG5leHBvcnQgZGVmYXVsdCBmZXRjaGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBwZXJjZW50VHdlbnRpZXMgPSAvJTIwL2c7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgRm9ybWF0ID0ge1xuICAgIFJGQzE3Mzg6ICdSRkMxNzM4JyxcbiAgICBSRkMzOTg2OiAnUkZDMzk4Nidcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbC5hc3NpZ24oXG4gICAge1xuICAgICAgICAnZGVmYXVsdCc6IEZvcm1hdC5SRkMzOTg2LFxuICAgICAgICBmb3JtYXR0ZXJzOiB7XG4gICAgICAgICAgICBSRkMxNzM4OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZS5jYWxsKHZhbHVlLCBwZXJjZW50VHdlbnRpZXMsICcrJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUkZDMzk4NjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEZvcm1hdFxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vc3RyaW5naWZ5Jyk7XG52YXIgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBzdHJpbmdpZnk6IHN0cmluZ2lmeVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgYWxsb3dQcm90b3R5cGVzOiBmYWxzZSxcbiAgICBhcnJheUxpbWl0OiAyMCxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgY29tbWE6IGZhbHNlLFxuICAgIGRlY29kZXI6IHV0aWxzLmRlY29kZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBkZXB0aDogNSxcbiAgICBpZ25vcmVRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiBmYWxzZSxcbiAgICBwYXJhbWV0ZXJMaW1pdDogMTAwMCxcbiAgICBwYXJzZUFycmF5czogdHJ1ZSxcbiAgICBwbGFpbk9iamVjdHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpbnRlcnByZXROdW1lcmljRW50aXRpZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mIyhcXGQrKTsvZywgZnVuY3Rpb24gKCQwLCBudW1iZXJTdHIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobnVtYmVyU3RyLCAxMCkpO1xuICAgIH0pO1xufTtcblxudmFyIHBhcnNlQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuY29tbWEgJiYgdmFsLmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB2YWwuc3BsaXQoJywnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xufTtcblxuLy8gVGhpcyBpcyB3aGF0IGJyb3dzZXJzIHdpbGwgc3VibWl0IHdoZW4gdGhlIOKckyBjaGFyYWN0ZXIgb2NjdXJzIGluIGFuXG4vLyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYm9keSBhbmQgdGhlIGVuY29kaW5nIG9mIHRoZSBwYWdlIGNvbnRhaW5pbmdcbi8vIHRoZSBmb3JtIGlzIGlzby04ODU5LTEsIG9yIHdoZW4gdGhlIHN1Ym1pdHRlZCBmb3JtIGhhcyBhbiBhY2NlcHQtY2hhcnNldFxuLy8gYXR0cmlidXRlIG9mIGlzby04ODU5LTEuIFByZXN1bWFibHkgYWxzbyB3aXRoIG90aGVyIGNoYXJzZXRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbi8vIHRoZSDinJMgY2hhcmFjdGVyLCBzdWNoIGFzIHVzLWFzY2lpLlxudmFyIGlzb1NlbnRpbmVsID0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0InOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JylcblxuLy8gVGhlc2UgYXJlIHRoZSBwZXJjZW50LWVuY29kZWQgdXRmLTggb2N0ZXRzIHJlcHJlc2VudGluZyBhIGNoZWNrbWFyaywgaW5kaWNhdGluZyB0aGF0IHRoZSByZXF1ZXN0IGFjdHVhbGx5IGlzIHV0Zi04IGVuY29kZWQuXG52YXIgY2hhcnNldFNlbnRpbmVsID0gJ3V0Zjg9JUUyJTlDJTkzJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuXG52YXIgcGFyc2VWYWx1ZXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nVmFsdWVzKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICB2YXIgY2xlYW5TdHIgPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID8gc3RyLnJlcGxhY2UoL15cXD8vLCAnJykgOiBzdHI7XG4gICAgdmFyIGxpbWl0ID0gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0O1xuICAgIHZhciBwYXJ0cyA9IGNsZWFuU3RyLnNwbGl0KG9wdGlvbnMuZGVsaW1pdGVyLCBsaW1pdCk7XG4gICAgdmFyIHNraXBJbmRleCA9IC0xOyAvLyBLZWVwIHRyYWNrIG9mIHdoZXJlIHRoZSB1dGY4IHNlbnRpbmVsIHdhcyBmb3VuZFxuICAgIHZhciBpO1xuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRpb25zLmNoYXJzZXQ7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldLmluZGV4T2YoJ3V0Zjg9JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV0gPT09IGNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldID09PSBpc29TZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ2lzby04ODU5LTEnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lwSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGkgPSBwYXJ0cy5sZW5ndGg7IC8vIFRoZSBlc2xpbnQgc2V0dGluZ3MgZG8gbm90IGFsbG93IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpID09PSBza2lwSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgICAgdmFyIGJyYWNrZXRFcXVhbHNQb3MgPSBwYXJ0LmluZGV4T2YoJ109Jyk7XG4gICAgICAgIHZhciBwb3MgPSBicmFja2V0RXF1YWxzUG9zID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogYnJhY2tldEVxdWFsc1BvcyArIDE7XG5cbiAgICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID8gbnVsbCA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UoMCwgcG9zKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gdXRpbHMubWF5YmVNYXAoXG4gICAgICAgICAgICAgICAgcGFyc2VBcnJheVZhbHVlKHBhcnQuc2xpY2UocG9zICsgMSksIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbmNvZGVkVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRlY29kZXIoZW5jb2RlZFZhbCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgJiYgb3B0aW9ucy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgJiYgY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICB2YWwgPSBpbnRlcnByZXROdW1lcmljRW50aXRpZXModmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LmluZGV4T2YoJ1tdPScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhbCA9IGlzQXJyYXkodmFsKSA/IFt2YWxdIDogdmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB1dGlscy5jb21iaW5lKG9ialtrZXldLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIHZhciBsZWFmID0gdmFsdWVzUGFyc2VkID8gdmFsIDogcGFyc2VBcnJheVZhbHVlKHZhbCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdmFyIHJvb3QgPSBjaGFpbltpXTtcblxuICAgICAgICBpZiAocm9vdCA9PT0gJ1tdJyAmJiBvcHRpb25zLnBhcnNlQXJyYXlzKSB7XG4gICAgICAgICAgICBvYmogPSBbXS5jb25jYXQobGVhZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgICAgICAgIHZhciBjbGVhblJvb3QgPSByb290LmNoYXJBdCgwKSA9PT0gJ1snICYmIHJvb3QuY2hhckF0KHJvb3QubGVuZ3RoIC0gMSkgPT09ICddJyA/IHJvb3Quc2xpY2UoMSwgLTEpIDogcm9vdDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGNsZWFuUm9vdCwgMTApO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnBhcnNlQXJyYXlzICYmIGNsZWFuUm9vdCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBvYmogPSB7IDA6IGxlYWYgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgIWlzTmFOKGluZGV4KVxuICAgICAgICAgICAgICAgICYmIHJvb3QgIT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIFN0cmluZyhpbmRleCkgPT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIGluZGV4ID49IDBcbiAgICAgICAgICAgICAgICAmJiAob3B0aW9ucy5wYXJzZUFycmF5cyAmJiBpbmRleCA8PSBvcHRpb25zLmFycmF5TGltaXQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvYmogPSBbXTtcbiAgICAgICAgICAgICAgICBvYmpbaW5kZXhdID0gbGVhZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW2NsZWFuUm9vdF0gPSBsZWFmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGVhZiA9IG9iajsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXi5bXSspL2csICdbJDFdJykgOiBnaXZlbktleTtcblxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcblxuICAgIHZhciBicmFja2V0cyA9IC8oXFxbW15bXFxdXSpdKS87XG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXltcXF1dKl0pL2c7XG5cbiAgICAvLyBHZXQgdGhlIHBhcmVudFxuXG4gICAgdmFyIHNlZ21lbnQgPSBvcHRpb25zLmRlcHRoID4gMCAmJiBicmFja2V0cy5leGVjKGtleSk7XG4gICAgdmFyIHBhcmVudCA9IHNlZ21lbnQgPyBrZXkuc2xpY2UoMCwgc2VnbWVudC5pbmRleCkgOiBrZXk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGFyZW4ndCB1c2luZyBwbGFpbiBvYmplY3RzLCBvcHRpb25hbGx5IHByZWZpeCBrZXlzIHRoYXQgd291bGQgb3ZlcndyaXRlIG9iamVjdCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2gocGFyZW50KTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAob3B0aW9ucy5kZXB0aCA+IDAgJiYgKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCk7XG59O1xuXG52YXIgbm9ybWFsaXplUGFyc2VPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlY29kZXIgIT09IG51bGwgJiYgb3B0cy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgdmFyIGNoYXJzZXQgPSB0eXBlb2Ygb3B0cy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmNoYXJzZXQgOiBvcHRzLmNoYXJzZXQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBhbGxvd1Byb3RvdHlwZXM6IHR5cGVvZiBvcHRzLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXMsXG4gICAgICAgIGFycmF5TGltaXQ6IHR5cGVvZiBvcHRzLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0cy5hcnJheUxpbWl0IDogZGVmYXVsdHMuYXJyYXlMaW1pdCxcbiAgICAgICAgY2hhcnNldDogY2hhcnNldCxcbiAgICAgICAgY2hhcnNldFNlbnRpbmVsOiB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgICAgICBjb21tYTogdHlwZW9mIG9wdHMuY29tbWEgPT09ICdib29sZWFuJyA/IG9wdHMuY29tbWEgOiBkZWZhdWx0cy5jb21tYSxcbiAgICAgICAgZGVjb2RlcjogdHlwZW9mIG9wdHMuZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZGVjb2RlciA6IGRlZmF1bHRzLmRlY29kZXIsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCB1dGlscy5pc1JlZ0V4cChvcHRzLmRlbGltaXRlcikgPyBvcHRzLmRlbGltaXRlciA6IGRlZmF1bHRzLmRlbGltaXRlcixcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWltcGxpY2l0LWNvZXJjaW9uLCBuby1leHRyYS1wYXJlbnNcbiAgICAgICAgZGVwdGg6ICh0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ251bWJlcicgfHwgb3B0cy5kZXB0aCA9PT0gZmFsc2UpID8gK29wdHMuZGVwdGggOiBkZWZhdWx0cy5kZXB0aCxcbiAgICAgICAgaWdub3JlUXVlcnlQcmVmaXg6IG9wdHMuaWdub3JlUXVlcnlQcmVmaXggPT09IHRydWUsXG4gICAgICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogdHlwZW9mIG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID09PSAnYm9vbGVhbicgPyBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA6IGRlZmF1bHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyxcbiAgICAgICAgcGFyYW1ldGVyTGltaXQ6IHR5cGVvZiBvcHRzLnBhcmFtZXRlckxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMucGFyYW1ldGVyTGltaXQgOiBkZWZhdWx0cy5wYXJhbWV0ZXJMaW1pdCxcbiAgICAgICAgcGFyc2VBcnJheXM6IG9wdHMucGFyc2VBcnJheXMgIT09IGZhbHNlLFxuICAgICAgICBwbGFpbk9iamVjdHM6IHR5cGVvZiBvcHRzLnBsYWluT2JqZWN0cyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5wbGFpbk9iamVjdHMgOiBkZWZhdWx0cy5wbGFpbk9iamVjdHMsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZ1xuICAgIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIG9wdHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKTtcblxuICAgIGlmIChzdHIgPT09ICcnIHx8IHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgfVxuXG4gICAgdmFyIHRlbXBPYmogPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWVzKHN0ciwgb3B0aW9ucykgOiBzdHI7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGFuZCBzZXR1cCB0aGUgbmV3IG9iamVjdFxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdPYmogPSBwYXJzZUtleXMoa2V5LCB0ZW1wT2JqW2tleV0sIG9wdGlvbnMsIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnKTtcbiAgICAgICAgb2JqID0gdXRpbHMubWVyZ2Uob2JqLCBuZXdPYmosIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlscy5jb21wYWN0KG9iaik7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBwdXNoID0gQXJyYXkucHJvdG90eXBlLnB1c2g7XG52YXIgcHVzaFRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZU9yQXJyYXkpIHtcbiAgICBwdXNoLmFwcGx5KGFyciwgaXNBcnJheSh2YWx1ZU9yQXJyYXkpID8gdmFsdWVPckFycmF5IDogW3ZhbHVlT3JBcnJheV0pO1xufTtcblxudmFyIHRvSVNPID0gRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmc7XG5cbnZhciBkZWZhdWx0Rm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xudmFyIGRlZmF1bHRzID0ge1xuICAgIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBlbmNvZGU6IHRydWUsXG4gICAgZW5jb2RlcjogdXRpbHMuZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBmb3JtYXR0ZXI6IGZvcm1hdHMuZm9ybWF0dGVyc1tkZWZhdWx0Rm9ybWF0XSxcbiAgICAvLyBkZXByZWNhdGVkXG4gICAgaW5kaWNlczogZmFsc2UsXG4gICAgc2VyaWFsaXplRGF0ZTogZnVuY3Rpb24gc2VyaWFsaXplRGF0ZShkYXRlKSB7XG4gICAgICAgIHJldHVybiB0b0lTTy5jYWxsKGRhdGUpO1xuICAgIH0sXG4gICAgc2tpcE51bGxzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaXNOb25OdWxsaXNoUHJpbWl0aXZlID0gZnVuY3Rpb24gaXNOb25OdWxsaXNoUHJpbWl0aXZlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnbnVtYmVyJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnc3ltYm9sJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ2JpZ2ludCc7XG59O1xuXG52YXIgc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KFxuICAgIG9iamVjdCxcbiAgICBwcmVmaXgsXG4gICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgc2tpcE51bGxzLFxuICAgIGVuY29kZXIsXG4gICAgZmlsdGVyLFxuICAgIHNvcnQsXG4gICAgYWxsb3dEb3RzLFxuICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgZm9ybWF0dGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgY2hhcnNldFxuKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlKG9iaik7XG4gICAgfSBlbHNlIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSB1dGlscy5tYXliZU1hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSkuam9pbignLCcpO1xuICAgIH1cblxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgPyBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9uTnVsbGlzaFByaW1pdGl2ZShvYmopIHx8IHV0aWxzLmlzQnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXggOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpLZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcblxuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBpc0FycmF5KG9iailcbiAgICAgICAgICAgID8gdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgPyBnZW5lcmF0ZUFycmF5UHJlZml4KHByZWZpeCwga2V5KSA6IHByZWZpeFxuICAgICAgICAgICAgOiBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKTtcblxuICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAga2V5UHJlZml4LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG52YXIgbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cykge1xuICAgIGlmICghb3B0cykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5jb2RlciAhPT0gbnVsbCAmJiBvcHRzLmVuY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRzLmNoYXJzZXQgfHwgZGVmYXVsdHMuY2hhcnNldDtcbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbiAgICBpZiAodHlwZW9mIG9wdHMuZm9ybWF0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIWhhcy5jYWxsKGZvcm1hdHMuZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gICAgfVxuICAgIHZhciBmb3JtYXR0ZXIgPSBmb3JtYXRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICAgIHZhciBmaWx0ZXIgPSBkZWZhdWx0cy5maWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJyB8fCBpc0FycmF5KG9wdHMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRRdWVyeVByZWZpeDogdHlwZW9mIG9wdHMuYWRkUXVlcnlQcmVmaXggPT09ICdib29sZWFuJyA/IG9wdHMuYWRkUXVlcnlQcmVmaXggOiBkZWZhdWx0cy5hZGRRdWVyeVByZWZpeCxcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgY2hhcnNldDogY2hhcnNldCxcbiAgICAgICAgY2hhcnNldFNlbnRpbmVsOiB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5kZWxpbWl0ZXIgOiBvcHRzLmRlbGltaXRlcixcbiAgICAgICAgZW5jb2RlOiB0eXBlb2Ygb3B0cy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlLFxuICAgICAgICBlbmNvZGVyOiB0eXBlb2Ygb3B0cy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcixcbiAgICAgICAgZW5jb2RlVmFsdWVzT25seTogdHlwZW9mIG9wdHMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgICAgICBzZXJpYWxpemVEYXRlOiB0eXBlb2Ygb3B0cy5zZXJpYWxpemVEYXRlID09PSAnZnVuY3Rpb24nID8gb3B0cy5zZXJpYWxpemVEYXRlIDogZGVmYXVsdHMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgc2tpcE51bGxzOiB0eXBlb2Ygb3B0cy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdHMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzLFxuICAgICAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgb3B0cykge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpO1xuXG4gICAgdmFyIG9iaktleXM7XG4gICAgdmFyIGZpbHRlcjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5hcnJheUZvcm1hdCBpbiBhcnJheVByZWZpeEdlbmVyYXRvcnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmFycmF5Rm9ybWF0O1xuICAgIH0gZWxzZSBpZiAob3B0cyAmJiAnaW5kaWNlcycgaW4gb3B0cykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9iaktleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcblxuICAgICAgICBpZiAob3B0aW9ucy5za2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHB1c2hUb0FycmF5KGtleXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgb3B0aW9ucy5za2lwTnVsbHMsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZSA/IG9wdGlvbnMuZW5jb2RlciA6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgICAgIG9wdGlvbnMuc29ydCxcbiAgICAgICAgICAgIG9wdGlvbnMuYWxsb3dEb3RzLFxuICAgICAgICAgICAgb3B0aW9ucy5zZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBvcHRpb25zLmNoYXJzZXRcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgdmFyIGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBpZiAob3B0aW9ucy5jaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKSwgdGhlIFwibnVtZXJpYyBlbnRpdHlcIiByZXByZXNlbnRhdGlvbiBvZiBhIGNoZWNrbWFya1xuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JUUyJTlDJTkzJic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59KCkpO1xuXG52YXIgY29tcGFjdFF1ZXVlID0gZnVuY3Rpb24gY29tcGFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChvYmpbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBhcnJheVRvT2JqZWN0ID0gZnVuY3Rpb24gYXJyYXlUb09iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIC8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogMCAqL1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmICFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheVRvT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnblNpbmdsZVNvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufTtcblxudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzdHIsIGRlY29kZXIsIGNoYXJzZXQpIHtcbiAgICB2YXIgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn07XG5cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoc3RyLCBkZWZhdWx0RW5jb2RlciwgY2hhcnNldCkge1xuICAgIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIChtc2NkZXgpIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAgIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB2YXIgc3RyaW5nID0gc3RyO1xuICAgIGlmICh0eXBlb2Ygc3RyID09PSAnc3ltYm9sJykge1xuICAgICAgICBzdHJpbmcgPSBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3RyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZyA9IFN0cmluZyhzdHIpO1xuICAgIH1cblxuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgcmV0dXJuIGVzY2FwZShzdHJpbmcpLnJlcGxhY2UoLyV1WzAtOWEtZl17NH0vZ2ksIGZ1bmN0aW9uICgkMCkge1xuICAgICAgICAgICAgcmV0dXJuICclMjYlMjMnICsgcGFyc2VJbnQoJDAuc2xpY2UoMiksIDE2KSArICclM0InO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjID09PSAweDJEIC8vIC1cbiAgICAgICAgICAgIHx8IGMgPT09IDB4MkUgLy8gLlxuICAgICAgICAgICAgfHwgYyA9PT0gMHg1RiAvLyBfXG4gICAgICAgICAgICB8fCBjID09PSAweDdFIC8vIH5cbiAgICAgICAgICAgIHx8IChjID49IDB4MzAgJiYgYyA8PSAweDM5KSAvLyAwLTlcbiAgICAgICAgICAgIHx8IChjID49IDB4NDEgJiYgYyA8PSAweDVBKSAvLyBhLXpcbiAgICAgICAgICAgIHx8IChjID49IDB4NjEgJiYgYyA8PSAweDdBKSAvLyBBLVpcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIG91dCArPSBoZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xufTtcblxudmFyIGNvbXBhY3QgPSBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgdmFyIHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgICB2YXIgcmVmcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlW2ldO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGFjdFF1ZXVlKHF1ZXVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBpc1JlZ0V4cCA9IGZ1bmN0aW9uIGlzUmVnRXhwKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG52YXIgaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlcihvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpO1xufTtcblxudmFyIGNvbWJpbmUgPSBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KGEsIGIpO1xufTtcblxudmFyIG1heWJlTWFwID0gZnVuY3Rpb24gbWF5YmVNYXAodmFsLCBmbikge1xuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFyIG1hcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbWFwcGVkLnB1c2goZm4odmFsW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZuKHZhbCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhcnJheVRvT2JqZWN0OiBhcnJheVRvT2JqZWN0LFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGNvbWJpbmU6IGNvbWJpbmUsXG4gICAgY29tcGFjdDogY29tcGFjdCxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBlbmNvZGU6IGVuY29kZSxcbiAgICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gICAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICAgIG1heWJlTWFwOiBtYXliZU1hcCxcbiAgICBtZXJnZTogbWVyZ2Vcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9